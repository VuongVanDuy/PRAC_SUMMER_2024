<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_42401b147f2c692b6ec9627863a5623f {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_42401b147f2c692b6ec9627863a5623f" ></div>
        
</body>
<script>
    
    
            var map_42401b147f2c692b6ec9627863a5623f = L.map(
                "map_42401b147f2c692b6ec9627863a5623f",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_2ce4e40ee53f63c0dd05f0e15c5ce371 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_2ce4e40ee53f63c0dd05f0e15c5ce371.addTo(map_42401b147f2c692b6ec9627863a5623f);
        
    
            var poly_line_2b1fd24dd31725318871444d5be71357 = L.polyline(
                [[59.94308600000001, 30.39128], [59.943068000000004, 30.391267000000003], [59.94309099999998, 30.391259999999996], [59.94315199999997, 30.391017], [59.94320700000002, 30.390836000000004], [59.943449, 30.390188], [59.943648999999986, 30.389632000000002], [59.944015000000014, 30.388784999999995], [59.944081, 30.388649], [59.94478099999997, 30.387255000000003], [59.94481199999998, 30.387184], [59.94481699999999, 30.387119000000002], [59.94438999999999, 30.386239], [59.94442799999998, 30.386151], [59.944387000000006, 30.386233999999998], [59.94295699999999, 30.383354000000004], [59.942541999999996, 30.382501999999995], [59.94222099999999, 30.381853999999997], [59.94214499999998, 30.381707], [59.94078599999999, 30.379149999999996], [59.940799999999996, 30.379099999999998], [59.94078, 30.379139], [59.940003, 30.377681000000006], [59.93988599999998, 30.377462], [59.93938700000001, 30.376578], [59.938762, 30.375468999999995], [59.938622, 30.375233], [59.93845199999999, 30.374965000000003], [59.938467999999986, 30.374908000000005], [59.938448999999984, 30.374953999999995], [59.93816800000002, 30.374566999999995], [59.938009, 30.374345000000005], [59.937799999999996, 30.374048000000002], [59.93762499999998, 30.373903999999996], [59.937031000000005, 30.373238000000004], [59.936907, 30.373102999999997], [59.936775000000004, 30.372965], [59.93615899999999, 30.372328000000003], [59.93606700000001, 30.372233], [59.93536599999998, 30.371473], [59.93523000000001, 30.371326], [59.935222, 30.371316999999998], [59.935088999999984, 30.371166000000002], [59.93504599999999, 30.371117000000005], [59.93492599999997, 30.370971999999995], [59.93494899999999, 30.370874999999998], [59.93492599999997, 30.370967000000004], [59.934830000000005, 30.370871999999995], [59.934534999999975, 30.370537], [59.93442000000001, 30.370404999999998], [59.93436499999999, 30.370342999999995], [59.933637999999995, 30.369514], [59.93356599999999, 30.369432], [59.93348700000001, 30.369342], [59.933314999999986, 30.369144000000002], [59.933293000000006, 30.369118], [59.93316999999998, 30.368979999999997], [59.933189, 30.368911999999998], [59.93316500000001, 30.368969], [59.93280399999998, 30.368562999999998], [59.93271699999998, 30.368463], [59.93262200000003, 30.368355000000005], [59.932153, 30.367822], [59.93205700000001, 30.367682000000002], [59.932037, 30.367642999999997], [59.93195399999999, 30.367415000000005], [59.93120999999998, 30.366514000000002], [59.93069799999999, 30.365843999999996], [59.93049199999999, 30.365583], [59.930549, 30.365082], [59.93077199999999, 30.363301], [59.930776999999985, 30.363262000000002], [59.93078399999998, 30.363219], [59.930787999999986, 30.363198], [59.93082699999999, 30.363071], [59.93110799999999, 30.362165], [59.931126000000006, 30.362104], [59.931141, 30.362040000000004], [59.93115399999999, 30.361974], [59.931163000000005, 30.361906000000005], [59.93116999999999, 30.361837], [59.931174999999996, 30.361767000000004], [59.93117600000001, 30.361695999999995], [59.931174999999996, 30.361625999999998], [59.93115999999999, 30.361209], [59.931149, 30.360916], [59.931147000000024, 30.36086], [59.93114599999998, 30.360818999999992], [59.93114599999998, 30.360778000000007], [59.93114599999998, 30.360737999999998], [59.93114799999999, 30.360697000000002], [59.93115099999998, 30.360656999999996], [59.931155, 30.360616], [59.931159, 30.360576999999996], [59.93116400000002, 30.360539], [59.93123599999998, 30.359953999999995], [59.931365000000014, 30.358927], [59.931389, 30.358723], [59.93147999999999, 30.358759999999993], [59.931389, 30.358725], [59.931476999999994, 30.358031999999998], [59.93151099999997, 30.35776], [59.93156299999998, 30.357344], [59.931621000000014, 30.356882999999996], [59.931683, 30.356384000000002], [59.931725000000014, 30.356052000000002], [59.93173799999999, 30.355944], [59.93176700000001, 30.355714], [59.931789000000016, 30.355536999999998], [59.931947, 30.354259000000003], [59.93197699999999, 30.354013999999996], [59.932005000000004, 30.353790000000004], [59.932156999999975, 30.352601], [59.932304999999985, 30.351409999999998], [59.93238600000001, 30.350768], [59.93250999999997, 30.349772], [59.932552, 30.349439], [59.93259299999999, 30.349107], [59.93271300000001, 30.348155000000002], [59.93274399999999, 30.347891], [59.932785, 30.347554], [59.932845, 30.347071], [59.932902999999975, 30.347099999999994], [59.932847, 30.347073000000005], [59.932861, 30.346961], [59.93288399999999, 30.346778000000004], [59.932902999999975, 30.346621], [59.932967999999995, 30.346099000000002], [59.933037999999975, 30.345535], [59.933193, 30.344271000000003], [59.933226999999995, 30.344014], [59.93323800000002, 30.343925], [59.933371999999984, 30.342848], [59.93338099999999, 30.342774], [59.93342200000001, 30.342447000000003], [59.933601999999986, 30.340999], [59.933864, 30.338883], [59.93396, 30.338930000000005], [59.933864, 30.338883], [59.93388000000001, 30.338757999999995], [59.933949000000005, 30.338200000000004], [59.934039000000006, 30.337477999999997], [59.934051000000004, 30.337377], [59.93410300000001, 30.336958000000003], [59.93413699999997, 30.336691000000005], [59.93433099999999, 30.335125999999995], [59.93460299999999, 30.332931], [59.93472199999998, 30.331958000000004], [59.93490200000001, 30.330519000000002], [59.93501100000001, 30.329636], [59.935054, 30.329278999999993], [59.93510900000001, 30.329285999999996], [59.935055000000006, 30.32928], [59.935184, 30.328233], [59.935351000000004, 30.326872999999996], [59.935374, 30.326687], [59.93539100000001, 30.326550999999995], [59.93542399999999, 30.326284], [59.93543800000002, 30.326172], [59.93546499999999, 30.325952000000004], [59.93591400000001, 30.322307], [59.93595099999998, 30.322015999999998], [59.935969, 30.321867], [59.936019999999985, 30.321456000000005], [59.936109999999985, 30.3215], [59.936019999999985, 30.321456000000005], [59.936032999999995, 30.321349], [59.93607599999999, 30.320994000000002], [59.936191000000015, 30.320059], [59.936204, 30.319949000000005], [59.936249999999994, 30.319448], [59.93626099999999, 30.319357], [59.93627300000001, 30.319249], [59.93646599999999, 30.317599999999995], [59.936501, 30.317298], [59.936623999999995, 30.316240999999998], [59.93670599999998, 30.315537000000003], [59.936703, 30.31542200000001], [59.936715, 30.315295999999996], [59.936717999999985, 30.315217999999998], [59.936715, 30.315159], [59.936708, 30.315113], [59.93669499999999, 30.315064999999997], [59.936680999999986, 30.315026000000003], [59.93660899999999, 30.314983], [59.93642299999999, 30.314871999999998], [59.93639000000002, 30.314834], [59.93636099999999, 30.314769], [59.9363, 30.314607000000002], [59.93609900000001, 30.314069999999994], [59.936052000000004, 30.313946000000005], [59.936004000000004, 30.313805999999996], [59.935978999999996, 30.313738], [59.935957, 30.313678], [59.93595299999999, 30.313667000000002], [59.936, 30.313600000000005], [59.93594999999999, 30.313671], [59.935820999999976, 30.31331], [59.93579699999998, 30.313242999999996], [59.935634, 30.312787], [59.935447, 30.312264], [59.93535300000001, 30.312003000000004], [59.93529999999999, 30.311858000000004], [59.935250999999994, 30.31173], [59.935184, 30.311547], [59.93496799999998, 30.310948999999997], [59.934931999999996, 30.310833], [59.934954999999995, 30.310804], [59.93492499999999, 30.31083], [59.934853000000004, 30.310618999999996], [59.93478200000002, 30.310414999999995], [59.93475600000002, 30.310341000000005], [59.934666, 30.310088000000004], [59.93455699999999, 30.309792], [59.93436199999998, 30.309266], [59.93426600000001, 30.308997], [59.93404899999999, 30.308393999999996], [59.933883999999985, 30.307921], [59.93354299999999, 30.306771999999995], [59.933482000000005, 30.306578], [59.93342200000001, 30.306159], [59.933407, 30.305966999999995], [59.933409000000005, 30.305821999999996], [59.93341499999998, 30.305754], [59.933430000000016, 30.305671999999994], [59.93345199999999, 30.305611], [59.933479, 30.305550000000004], [59.93352099999999, 30.305473999999997], [59.933568, 30.305387000000003], [59.933621, 30.305299000000005], [59.933908000000024, 30.304858000000007], [59.93407200000001, 30.304574000000002], [59.934191, 30.30435], [59.93422600000001, 30.304285999999998], [59.934276000000004, 30.304192], [59.934363999999974, 30.304026000000004], [59.934486000000014, 30.303824], [59.934574999999974, 30.303703], [59.934607999999976, 30.303583999999997], [59.93460099999999, 30.303455000000003], [59.93451000000001, 30.303160000000002], [59.933648, 30.300226999999996], [59.933617999999996, 30.300125000000005], [59.93355899999999, 30.299928000000005], [59.933541999999996, 30.299869], [59.9336, 30.299799999999994], [59.933541999999996, 30.299869], [59.93267899999999, 30.296985], [59.93233699999999, 30.295839], [59.932282999999984, 30.295648000000003], [59.932256, 30.295557], [59.932237999999984, 30.295496], [59.93203099999999, 30.294786], [59.931594000000004, 30.293280999999997], [59.93154899999997, 30.293337], [59.931471, 30.293424], [59.93138499999999, 30.293523000000008], [59.931212999999985, 30.293714000000005], [59.93120900000001, 30.293656000000002], [59.931214000000004, 30.293711999999992], [59.93104, 30.293918000000005], [59.931588, 30.295766999999998], [59.93170499999998, 30.296161], [59.931732999999994, 30.296252999999997], [59.931779, 30.296201999999997], [59.932165000000005, 30.295780000000004], [59.93223399999999, 30.295703999999994], [59.93225899999999, 30.295836999999995], [59.93235599999999, 30.29619], [59.93241499999999, 30.296385999999995], [59.93236999999998, 30.29644]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_42401b147f2c692b6ec9627863a5623f);
        
    
            var marker_e2e204ab2ab4f195281a8279622546b7 = L.marker(
                [59.94308600000001, 30.39128],
                {}
            ).addTo(map_42401b147f2c692b6ec9627863a5623f);
        
            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_42401b147f2c692b6ec9627863a5623f.getCenter().lat,
                lng: map_42401b147f2c692b6ec9627863a5623f.getCenter().lng,
                zoom: map_42401b147f2c692b6ec9627863a5623f.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_42401b147f2c692b6ec9627863a5623f.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_42401b147f2c692b6ec9627863a5623f.setView(marker_e2e204ab2ab4f195281a8279622546b7.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_42401b147f2c692b6ec9627863a5623f.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_42401b147f2c692b6ec9627863a5623f.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_42401b147f2c692b6ec9627863a5623f.removeLayer(marker_e2e204ab2ab4f195281a8279622546b7);
                }
                marker_e2e204ab2ab4f195281a8279622546b7.setLatLng([lat, lon]);
                map_42401b147f2c692b6ec9627863a5623f.setView([lat, lon], size_zoom);
            }

            map_42401b147f2c692b6ec9627863a5623f.setView(marker_e2e204ab2ab4f195281a8279622546b7.getLatLng(), size_zoom);
    
        var popup_79bd91818c9f4e86f65e6c0cda5bc5a7 = L.popup({"maxWidth": "100%"});

        
            
                var html_366b7a1027ecc23df250443038e2e5f1 = $(`<div id="html_366b7a1027ecc23df250443038e2e5f1" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_79bd91818c9f4e86f65e6c0cda5bc5a7.setContent(html_366b7a1027ecc23df250443038e2e5f1);
            
        

        marker_e2e204ab2ab4f195281a8279622546b7.bindPopup(popup_79bd91818c9f4e86f65e6c0cda5bc5a7)
        ;

        
    
</script>
</html>