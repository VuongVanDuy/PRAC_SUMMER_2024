<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_82e6a9184c9979b1b3540ef15961a6b1 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_82e6a9184c9979b1b3540ef15961a6b1" ></div>
        
</body>
<script>
    
    
            var map_82e6a9184c9979b1b3540ef15961a6b1 = L.map(
                "map_82e6a9184c9979b1b3540ef15961a6b1",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_540e12632844c795ee008bad723cc319 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_540e12632844c795ee008bad723cc319.addTo(map_82e6a9184c9979b1b3540ef15961a6b1);
        
    
            var poly_line_705bce4c5f22a3846fb99bc535a28d26 = L.polyline(
                [[59.959397, 30.269226], [59.959324999999986, 30.269729000000005], [59.959350999999984, 30.269873], [59.95941499999998, 30.270018], [59.959545, 30.270275], [59.95980399999999, 30.270783999999995], [59.95999, 30.271176], [59.96015599999999, 30.271510000000003], [59.96027999999998, 30.271738000000003], [59.96034499999998, 30.271781999999998], [59.96041, 30.271782999999996], [59.96048799999996, 30.271722000000004], [59.96054199999999, 30.271620000000002], [59.960619000000015, 30.271480999999998], [59.96072899999999, 30.271364], [59.96099800000002, 30.271694999999998], [59.96114699999999, 30.271884999999997], [59.96127500000001, 30.272080999999996], [59.96100500000001, 30.272831], [59.96088399999999, 30.273185000000005], [59.96076699999999, 30.273527], [59.960725000000004, 30.273450000000004], [59.960769999999975, 30.273513000000005], [59.96071400000001, 30.273671], [59.959859000000016, 30.276090000000003], [59.95952099999999, 30.276927], [59.95933799999999, 30.277316000000006], [59.95930000000002, 30.277244], [59.95933799999999, 30.277316000000006], [59.959286000000006, 30.277427], [59.958848999999994, 30.278346], [59.95878200000001, 30.278488], [59.95846699999999, 30.279076000000003], [59.956879000000015, 30.281944000000003], [59.955405000000006, 30.284523999999998], [59.954424999999986, 30.286007000000005], [59.954396, 30.286053], [59.954385, 30.286043], [59.954396, 30.286053], [59.95428700000001, 30.286219], [59.953939999999996, 30.286746], [59.953814999999985, 30.286943999999995], [59.953658, 30.28724], [59.95329700000002, 30.28805], [59.95312600000001, 30.288423000000005], [59.953064, 30.288558], [59.95271000000001, 30.289362000000004], [59.95242799999998, 30.290033], [59.952218, 30.290557999999997], [59.95206699999997, 30.291038], [59.951733, 30.292258], [59.95153700000001, 30.292939], [59.95150000000002, 30.292899999999996], [59.95153700000001, 30.292944000000002], [59.951260999999995, 30.293928999999995], [59.950633000000025, 30.296019], [59.95043700000001, 30.296688], [59.95039999999999, 30.296642000000002], [59.950434, 30.296688], [59.950053, 30.297937000000005], [59.94987800000001, 30.298524], [59.94974300000001, 30.298997], [59.949584, 30.299616], [59.94950999999998, 30.299965999999998], [59.949449000000016, 30.300311], [59.94940099999998, 30.300669], [59.94937500000001, 30.300781999999998], [59.949197999999996, 30.301278999999997], [59.94900599999999, 30.301691], [59.948864, 30.302014], [59.948830999999984, 30.301955999999997], [59.94886299999999, 30.302015000000004], [59.94867399999999, 30.302427], [59.948590999999986, 30.302561000000004], [59.948465, 30.302723], [59.94833200000001, 30.302850000000003], [59.948185999999986, 30.302981], [59.948163, 30.302999999999997], [59.94806299999998, 30.303084999999996], [59.94785100000001, 30.303245000000004], [59.94766999999999, 30.303376], [59.947584, 30.303421], [59.94747900000001, 30.303454], [59.947357, 30.303464999999996], [59.94522000000002, 30.30317], [59.945139000000005, 30.303175000000003], [59.945074, 30.303196], [59.94500000000001, 30.303247], [59.94488799999999, 30.303362000000003], [59.94482299999999, 30.303458000000003], [59.94475099999999, 30.303592], [59.94455099999999, 30.304091000000003], [59.944367, 30.304555000000004], [59.944320999999995, 30.304484], [59.94437799999999, 30.304571], [59.94437799999999, 30.304572000000004], [59.944281, 30.304819000000002], [59.944185999999995, 30.305029999999995], [59.944072999999996, 30.305234], [59.943942, 30.305405999999998], [59.94379200000002, 30.305584000000003], [59.94362900000001, 30.305778999999998], [59.94349299999998, 30.305909], [59.943326000000006, 30.306007999999995], [59.942789999999995, 30.306236000000002], [59.94246699999999, 30.30638], [59.942305999999995, 30.306465000000003], [59.942077000000005, 30.306648], [59.940253, 30.309335], [59.93997499999999, 30.309724000000003], [59.939904999999996, 30.309821999999997], [59.939811999999996, 30.309963000000003], [59.939168, 30.310947], [59.938905000000005, 30.311349], [59.938850000000016, 30.311432], [59.93882699999999, 30.31137100000001], [59.938850000000016, 30.311432], [59.93852600000002, 30.311928], [59.93824800000001, 30.312351], [59.938213999999995, 30.312398], [59.93817699999999, 30.312438], [59.938137999999995, 30.312471000000002], [59.938098, 30.312495], [59.93805700000001, 30.312509999999996], [59.93801499999999, 30.312517], [59.93797399999998, 30.312516], [59.937932, 30.312506000000003], [59.93776999999999, 30.312448000000003], [59.937294, 30.312280999999995], [59.93724399999998, 30.312264], [59.93722199999999, 30.312258000000003], [59.93719899999999, 30.312256], [59.937176000000015, 30.312258999999997], [59.937153, 30.312267], [59.937131000000015, 30.312278], [59.93710899999999, 30.312293999999998], [59.937087999999996, 30.312314], [59.937068, 30.312337], [59.937048999999995, 30.312364], [59.937032, 30.312394999999995], [59.93701599999999, 30.312429000000005], [59.937001999999985, 30.312466], [59.93698899999999, 30.312505], [59.936979, 30.312546], [59.936971, 30.312589], [59.93696399999998, 30.312632000000004], [59.93694499999998, 30.312795], [59.93686699999999, 30.313461], [59.93685099999998, 30.313601], [59.936837999999995, 30.313703999999998], [59.936812, 30.313692], [59.936837999999995, 30.313703999999998], [59.936710000000005, 30.314801], [59.936680999999986, 30.315026000000003], [59.936665000000005, 30.315188999999997], [59.93642100000001, 30.31726], [59.93638099999998, 30.317607999999996], [59.93618699999998, 30.319208000000003], [59.93617499999999, 30.319312], [59.936162, 30.319413999999995], [59.93608999999999, 30.319908], [59.936077, 30.320012000000002], [59.93599099999999, 30.320707000000002], [59.935866000000004, 30.321721000000004], [59.93585500000001, 30.321811999999998], [59.935827, 30.322044], [59.93582200000001, 30.322082999999996], [59.93573699999998, 30.322768000000003], [59.93564699999999, 30.323506], [59.93558500000001, 30.324002999999998], [59.935497999999995, 30.324710000000003], [59.93544399999997, 30.324683], [59.93549999999999, 30.324708], [59.935351000000004, 30.325897], [59.935312999999994, 30.326209999999996], [59.935285, 30.326436], [59.935258999999995, 30.326645000000003], [59.93523200000001, 30.326853999999997], [59.93495599999999, 30.329090000000008], [59.934817, 30.330222000000003], [59.93476100000001, 30.330657999999996], [59.934616999999996, 30.331833999999997], [59.93456099999998, 30.332289999999997], [59.93454899999998, 30.332392], [59.934496, 30.332366000000004], [59.93454899999998, 30.332392], [59.93448499999998, 30.332907000000002], [59.934366000000004, 30.333892999999996], [59.934280000000015, 30.334602999999998], [59.934221999999984, 30.335036], [59.93421800000003, 30.33507], [59.934213, 30.335105], [59.934053000000006, 30.336399999999998], [59.933895, 30.337664999999998], [59.933845000000005, 30.338061], [59.933778999999994, 30.338606], [59.933751, 30.338825], [59.933700000000016, 30.338800000000003], [59.933751, 30.338825], [59.93371200000001, 30.339138], [59.93349499999999, 30.340889999999995], [59.933309000000015, 30.342386999999995], [59.93326799999998, 30.342713000000007], [59.93324399999999, 30.342905], [59.93312700000001, 30.343826000000004], [59.933113000000006, 30.343946999999996], [59.933080000000004, 30.344213], [59.93284200000001, 30.346134000000003], [59.93275400000002, 30.346846], [59.932668, 30.347543], [59.93262700000001, 30.347872000000002], [59.93259499999999, 30.348135], [59.93252100000001, 30.348728], [59.93247600000001, 30.348706], [59.93252100000001, 30.348728], [59.932464999999986, 30.349174999999995], [59.93242699999998, 30.349483], [59.93238899999999, 30.349786999999996], [59.932086, 30.352221], [59.93201, 30.352831], [59.93193699999999, 30.353415000000002], [59.931898999999994, 30.353733], [59.93187099999998, 30.353953], [59.931840999999984, 30.354194999999997], [59.931797999999986, 30.354535999999996], [59.93168, 30.355483000000003], [59.93165900000001, 30.355648000000002], [59.93162899999999, 30.355885], [59.931536999999985, 30.356625000000005], [59.931503, 30.356608], [59.931536999999985, 30.356625000000005], [59.931521000000004, 30.356755], [59.93147299999998, 30.357134999999996], [59.93143899999999, 30.357408], [59.93135100000001, 30.358116999999996], [59.931168, 30.359585999999997], [59.93105400000001, 30.360484], [59.931026000000024, 30.360638999999995], [59.93096700000002, 30.360827000000004], [59.930899000000004, 30.361081], [59.930797000000005, 30.361499999999996], [59.93076699999998, 30.361653000000008], [59.93075, 30.361789], [59.930735999999996, 30.361931], [59.93075200000001, 30.362214], [59.93073899999998, 30.362994], [59.930733999999994, 30.363110999999996], [59.930714999999985, 30.363273], [59.930493, 30.365054000000004], [59.93043000000001, 30.365557000000003], [59.930473000000006, 30.365689000000003], [59.930619000000014, 30.365918000000004], [59.93065399999996, 30.36596], [59.931188000000006, 30.366604000000002], [59.93192999999998, 30.367502], [59.93200700000001, 30.367733999999995], [59.93202499999999, 30.367771999999995], [59.932126, 30.367907999999996], [59.932334000000004, 30.368145], [59.93235700000001, 30.36817], [59.932345, 30.368213], [59.932367000000006, 30.368181999999997], [59.932596999999994, 30.368433999999997], [59.93268999999999, 30.368539], [59.93278100000002, 30.36864], [59.93346300000002, 30.369404000000007], [59.93354400000001, 30.369494], [59.93362200000001, 30.369580999999997], [59.933685000000004, 30.369652], [59.933883999999985, 30.369873], [59.933873999999975, 30.369900999999995], [59.93388700000001, 30.369881999999997], [59.934034000000004, 30.370045], [59.934342, 30.370391999999995], [59.93440199999999, 30.370458], [59.93452, 30.370591000000005], [59.93472399999999, 30.37082], [59.93507399999999, 30.371212000000003], [59.935137, 30.371282], [59.93521500000002, 30.371371], [59.935280000000006, 30.371440000000003], [59.936052000000004, 30.372277000000004], [59.936144000000006, 30.372374000000004], [59.936752, 30.373026000000003], [59.936887999999996, 30.373179999999998], [59.937006, 30.373314], [59.93759899999997, 30.374006], [59.93777999999999, 30.374222999999997], [59.93798199999998, 30.374516000000003], [59.93824800000001, 30.374923999999996], [59.93820199999999, 30.375], [59.938246, 30.374926999999996], [59.938638999999995, 30.375532], [59.93913399999998, 30.376393], [59.939894, 30.377776000000004], [59.940163, 30.378241], [59.94109499999999, 30.379948], [59.94114099999999, 30.380026], [59.9411, 30.3801], [59.94113, 30.380037000000005], [59.94198600000001, 30.381667999999998], [59.94209099999999, 30.381868], [59.94210099999999, 30.381887], [59.94211100000001, 30.381907000000005], [59.94214100000001, 30.381963], [59.942890999999996, 30.383455], [59.942989, 30.38365], [59.943047, 30.38376299999999], [59.942973999999985, 30.383909], [59.943047, 30.38376299999999], [59.944083, 30.385824000000003], [59.944725, 30.387098999999996], [59.94476399999998, 30.387192], [59.94464099999999, 30.387425999999998], [59.944387000000006, 30.387909], [59.94426199999999, 30.388147], [59.94420999999998, 30.38825], [59.944188, 30.388206], [59.94419000000002, 30.388211000000002], [59.943974999999995, 30.38865699999999], [59.943939999999984, 30.388732000000005], [59.943625999999995, 30.389472000000005], [59.94340299999999, 30.390072000000004], [59.94315399999999, 30.390757], [59.94307700000001, 30.391012], [59.94300499999998, 30.391289], [59.94294600000001, 30.391605], [59.94290400000002, 30.39186], [59.94288300000001, 30.392094000000004], [59.94285699999998, 30.392569999999996], [59.94284, 30.392913999999998], [59.942829, 30.393259000000004], [59.942819999999976, 30.393562999999997], [59.942674999999994, 30.393564000000005], [59.942817999999974, 30.393567], [59.942804, 30.39415], [59.942739, 30.396510000000003], [59.94272000000001, 30.397276], [59.942713, 30.397544999999997], [59.94270199999997, 30.398126], [59.942603000000005, 30.401774000000003], [59.942535999999976, 30.404162], [59.942490000000014, 30.404879999999995], [59.942455, 30.405496], [59.942245, 30.408286], [59.94221899999998, 30.408467000000005], [59.942145999999994, 30.408519000000002], [59.94205799999999, 30.408539000000005], [59.941614999999985, 30.40853], [59.941180999999986, 30.408505], [59.941182999999995, 30.408400000000004], [59.941180999999986, 30.408505], [59.94075099999999, 30.408462], [59.938982, 30.408323000000003], [59.93812199999999, 30.408269], [59.93796000000001, 30.408255], [59.93744300000001, 30.408175999999997], [59.937405000000005, 30.408163], [59.93706500000001, 30.408051999999998], [59.936786, 30.407960000000003], [59.936645999999996, 30.407912999999997], [59.936032, 30.407712000000004], [59.936042999999984, 30.40762], [59.936034, 30.407712000000004], [59.93559700000001, 30.407574000000004], [59.93510900000001, 30.407414], [59.93430300000001, 30.407148999999993], [59.933943, 30.407031000000003], [59.933806, 30.406985999999996], [59.933747999999994, 30.406991], [59.93360399999999, 30.407137999999996], [59.933567, 30.407175], [59.933383999999975, 30.407397000000003], [59.933226, 30.407587], [59.93319999999999, 30.407499999999995], [59.933226, 30.407587], [59.93298599999998, 30.407877000000003], [59.932699, 30.408221999999995], [59.93154399999999, 30.409677999999996], [59.93144100000001, 30.409765999999998], [59.931357999999996, 30.409829], [59.93075200000001, 30.410308], [59.930212999999995, 30.410713000000005], [59.93019300000002, 30.410607000000002], [59.930215, 30.410715], [59.930011999999984, 30.410865], [59.929348000000005, 30.411381000000002], [59.92901499999999, 30.411635], [59.92886799999999, 30.411744999999996], [59.92851900000001, 30.412023], [59.92817000000001, 30.412302999999998], [59.927974999999996, 30.412452], [59.927956, 30.412343999999997], [59.92797100000001, 30.412454], [59.92784999999999, 30.412548000000005], [59.927669999999985, 30.412728000000005], [59.926930999999996, 30.413529], [59.925762, 30.41485], [59.92517500000002, 30.415516999999998], [59.92505299999998, 30.415656000000002], [59.92503000000001, 30.415579999999995], [59.92505299999998, 30.415656000000002], [59.925014999999995, 30.415701], [59.92487399999998, 30.415872000000004], [59.924778, 30.415989], [59.92474399999999, 30.415881999999996], [59.92446400000001, 30.415018], [59.92433299999998, 30.414612000000005], [59.92388299999999, 30.413235000000004], [59.92371900000001, 30.412721], [59.923636999999985, 30.412460999999997], [59.92346700000001, 30.411934], [59.923393999999995, 30.411712999999995], [59.92350399999999, 30.411588], [59.923733, 30.411321], [59.92373199999997, 30.411298], [59.923736999999996, 30.411316]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_82e6a9184c9979b1b3540ef15961a6b1);
        
    
            var marker_6a8475f3e99571638dd72a881d311106 = L.marker(
                [59.959397, 30.269226],
                {}
            ).addTo(map_82e6a9184c9979b1b3540ef15961a6b1);
        
            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_82e6a9184c9979b1b3540ef15961a6b1.getCenter().lat,
                lng: map_82e6a9184c9979b1b3540ef15961a6b1.getCenter().lng,
                zoom: map_82e6a9184c9979b1b3540ef15961a6b1.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_82e6a9184c9979b1b3540ef15961a6b1.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_82e6a9184c9979b1b3540ef15961a6b1.setView(marker_6a8475f3e99571638dd72a881d311106.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_82e6a9184c9979b1b3540ef15961a6b1.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_82e6a9184c9979b1b3540ef15961a6b1.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_82e6a9184c9979b1b3540ef15961a6b1.removeLayer(marker_6a8475f3e99571638dd72a881d311106);
                }
                marker_6a8475f3e99571638dd72a881d311106.setLatLng([lat, lon]);
                map_82e6a9184c9979b1b3540ef15961a6b1.setView([lat, lon], size_zoom);
            }

            map_82e6a9184c9979b1b3540ef15961a6b1.setView(marker_6a8475f3e99571638dd72a881d311106.getLatLng(), size_zoom);
    
        var popup_3baeaf05e18c3669229b4eb019dcbcdf = L.popup({"maxWidth": "100%"});

        
            
                var html_caaadbb40f64bf878566db18a43fc97a = $(`<div id="html_caaadbb40f64bf878566db18a43fc97a" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_3baeaf05e18c3669229b4eb019dcbcdf.setContent(html_caaadbb40f64bf878566db18a43fc97a);
            
        

        marker_6a8475f3e99571638dd72a881d311106.bindPopup(popup_3baeaf05e18c3669229b4eb019dcbcdf)
        ;

        
    
</script>
</html>