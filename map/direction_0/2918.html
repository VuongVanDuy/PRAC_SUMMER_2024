<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_5bbb3b2f972c378a0233dca2b9e32c3c {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_5bbb3b2f972c378a0233dca2b9e32c3c" ></div>
        
</body>
<script>
    
    
            var map_5bbb3b2f972c378a0233dca2b9e32c3c = L.map(
                "map_5bbb3b2f972c378a0233dca2b9e32c3c",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_72b99dd6ef8b968b81ad993301435053 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_72b99dd6ef8b968b81ad993301435053.addTo(map_5bbb3b2f972c378a0233dca2b9e32c3c);
        
    
            var poly_line_d698d0865941fbcd04e42d35571b61a8 = L.polyline(
                [[59.932406999999984, 30.435808000000005], [59.93658, 30.435229], [59.93658, 30.43513], [59.93680999999999, 30.435265999999995], [59.93819900000002, 30.435172000000005], [59.93912700000002, 30.435085], [59.93964600000001, 30.435019000000004], [59.939750999999994, 30.435001], [59.93996100000001, 30.434981000000004], [59.94026999999999, 30.434956999999997], [59.94030399999999, 30.434959999999997], [59.940564, 30.434953999999998], [59.941252999999996, 30.434963000000003], [59.94129799999999, 30.434955], [59.94152899999999, 30.434937], [59.94175999999999, 30.434950999999998], [59.94200900000001, 30.434993999999996], [59.942343000000015, 30.435083], [59.94240000000001, 30.435182000000005], [59.94307200000002, 30.435388], [59.94315899999999, 30.435412000000003], [59.943299, 30.435441000000004], [59.94347799999999, 30.435465000000004], [59.943567999999985, 30.43548], [59.94386899999999, 30.435527], [59.94428500000001, 30.435601], [59.94492900000001, 30.435704], [59.94507599999999, 30.435736000000002], [59.945196000000024, 30.435765999999997], [59.94529600000001, 30.435807], [59.94540299999999, 30.435849], [59.9455, 30.435897], [59.94571800000001, 30.435993000000007], [59.945907999999974, 30.436064999999996], [59.946052, 30.436099], [59.94676299999999, 30.436180999999994], [59.94721799999999, 30.436219], [59.94793400000001, 30.436279000000003], [59.94805099999999, 30.436287999999998], [59.948215000000005, 30.4363], [59.94840399999999, 30.436331999999993], [59.94940099999998, 30.436499], [59.950762, 30.436757000000004], [59.952869999999976, 30.437140000000003], [59.953120000000006, 30.437186], [59.95333999999999, 30.437218], [59.95370199999998, 30.437272000000004], [59.953790000000005, 30.437285], [59.954825, 30.437446], [59.954988, 30.437474], [59.95606699999998, 30.437659999999997], [59.95733000000001, 30.437879], [59.957472, 30.437903], [59.957661, 30.437936], [59.95896499999998, 30.438161], [59.959078000000005, 30.438180999999997], [59.95961599999997, 30.438270000000003], [59.959696999999984, 30.438291], [59.959769000000016, 30.438341], [59.959829, 30.438420000000004], [59.959868, 30.438493999999995], [59.95992900000001, 30.43862], [59.959964, 30.438738], [59.96003700000001, 30.438894], [59.960098000000016, 30.438972999999997], [59.960164, 30.439022000000005], [59.96023399999999, 30.43904], [59.960303999999994, 30.439026], [59.96037099999999, 30.43898], [59.96043100000001, 30.438905999999996], [59.96047199999998, 30.438816000000003], [59.960506999999964, 30.438725999999996], [59.960531999999986, 30.438637999999997], [59.96055199999999, 30.438520000000004], [59.960615, 30.438342999999993], [59.960674000000004, 30.438253], [59.960738, 30.438225000000003], [59.960877, 30.438204999999996], [59.96107399999999, 30.438185], [59.961742999999984, 30.438117], [59.96262500000001, 30.438077999999997], [59.96273699999998, 30.438068], [59.96296799999998, 30.438041], [59.963584, 30.437965], [59.96370000000001, 30.437955999999996], [59.963832, 30.437941999999996], [59.967052, 30.437614], [59.96833599999999, 30.437514], [59.968457000000015, 30.437496], [59.968592000000015, 30.437480999999995], [59.968949, 30.437441], [59.97203, 30.437151000000004], [59.97303, 30.43705], [59.973130999999995, 30.437040000000003], [59.973224000000016, 30.437030999999998], [59.973514999999985, 30.437033000000003], [59.97371299999998, 30.436981999999997], [59.97418, 30.437015999999996], [59.975556, 30.437010999999995], [59.975782, 30.437028], [59.975933000000005, 30.437068], [59.97608200000001, 30.437108], [59.976592, 30.437341000000004], [59.97667999999999, 30.436614], [59.97670599999997, 30.436404000000003], [59.976719999999986, 30.436285999999996], [59.976816, 30.435490999999995], [59.97689399999998, 30.434853999999998], [59.97689900000001, 30.434806], [59.977019, 30.433817], [59.97704199999998, 30.433626000000004], [59.977141, 30.432782999999993], [59.97719599999999, 30.432416], [59.977228999999994, 30.432241], [59.97734999999997, 30.431755], [59.977549, 30.430993999999995], [59.977624000000006, 30.430708], [59.977766, 30.430186], [59.977804000000006, 30.430046], [59.97789399999999, 30.429716], [59.97793300000001, 30.429572000000004], [59.97836599999999, 30.427977000000002], [59.978417999999984, 30.427784000000003], [59.978723, 30.426663999999995], [59.97924199999999, 30.424724999999995], [59.97926000000001, 30.424653999999997], [59.979413, 30.424092], [59.97959300000001, 30.423437000000003], [59.979641000000015, 30.423266000000005], [59.979835000000016, 30.422524000000003], [59.979944, 30.422362], [59.980140000000006, 30.421637], [59.980204, 30.421358], [59.980261, 30.421102999999995], [59.980328000000014, 30.42081], [59.980383, 30.420566], [59.98052100000001, 30.419957999999994], [59.980560999999994, 30.419728], [59.98056900000001, 30.419501000000004], [59.98097699999999, 30.417687], [59.98147499999999, 30.415469], [59.98157799999999, 30.415011000000003], [59.98164599999998, 30.414705], [59.98192699999999, 30.413456], [59.98194999999999, 30.413352999999997], [59.98197099999998, 30.413258], [59.981995000000005, 30.413148999999997], [59.98202699999998, 30.412999], [59.982052999999986, 30.412877999999996], [59.98265199999999, 30.410111000000004], [59.982726, 30.409789999999997], [59.98276499999998, 30.409619], [59.98279099999999, 30.409508], [59.982846999999985, 30.409294999999997], [59.98285099999997, 30.409298999999997], [59.982846999999985, 30.409294999999997], [59.98290299999999, 30.409083], [59.98281900000001, 30.40899], [59.982196000000016, 30.408301000000005], [59.981860999999995, 30.407929999999997], [59.981684, 30.407734], [59.98063500000001, 30.406574], [59.98030800000001, 30.406212000000004], [59.97991799999998, 30.405781], [59.979476, 30.405290999999995], [59.979144000000005, 30.404924], [59.97889399999999, 30.404647999999998], [59.97787299999999, 30.403518], [59.97778000000001, 30.403415000000003], [59.97774100000001, 30.403372], [59.976626, 30.402139000000005], [59.976657, 30.401892999999998], [59.976702999999986, 30.401521], [59.97678500000002, 30.401561999999995], [59.976701, 30.401515999999997], [59.977797, 30.392394], [59.97784300000001, 30.392389], [59.977785000000004, 30.392362000000002], [59.97826199999998, 30.388258], [59.97826899999998, 30.388190999999996], [59.978581, 30.385513], [59.978859, 30.384193999999997], [59.978942000000025, 30.383889999999997], [59.979096, 30.383326999999998], [59.97926600000001, 30.382803], [59.979375000000005, 30.382469], [59.97958700000001, 30.381808], [59.97960399999998, 30.381830000000004], [59.97962099999998, 30.381702], [59.98027899999999, 30.379763], [59.980293999999994, 30.379719000000005], [59.98080799999998, 30.378222], [59.98131099999998, 30.376801000000004], [59.981687999999984, 30.375683], [59.98178800000001, 30.375812999999994], [59.98169, 30.375678000000004], [59.98344200000001, 30.370616000000002], [59.98460799999999, 30.367251000000003], [59.98530900000001, 30.365227000000004], [59.98549700000002, 30.364708], [59.985552999999975, 30.364541], [59.985779999999984, 30.363792999999998], [59.985997000000005, 30.362968], [59.986063000000016, 30.362673999999995], [59.98611500000002, 30.362441999999998], [59.98624300000001, 30.361803], [59.986406000000024, 30.360887], [59.98647699999999, 30.360439], [59.98654100000002, 30.359998000000004], [59.986627000000006, 30.359377000000002], [59.98668499999998, 30.358518], [59.98666399999998, 30.357875], [59.98662900000001, 30.357395000000007], [59.98657399999998, 30.356809], [59.98652400000001, 30.356311], [59.986497, 30.356030999999998], [59.986549999999966, 30.356009999999998], [59.986497, 30.356030999999998], [59.98634799999999, 30.354491], [59.98627299999999, 30.353713000000003], [59.986160999999996, 30.352553999999998], [59.98611399999999, 30.352027999999997], [59.98606800000001, 30.351508999999997], [59.98605299999998, 30.351361999999998], [59.98585299999999, 30.349301999999998], [59.985829999999986, 30.349062000000004], [59.985748, 30.348225999999997], [59.98549399999999, 30.345735], [59.98548099999999, 30.345611999999996], [59.985454, 30.345353], [59.98550999999999, 30.345330000000004], [59.98546300000001, 30.345348], [59.985455999999985, 30.345275], [59.985256, 30.343211999999998], [59.98516699999998, 30.342199], [59.985130999999974, 30.341818], [59.984979, 30.341882999999996], [59.98499900000001, 30.34207], [59.98507000000001, 30.34204], [59.98499900000001, 30.34207], [59.985017, 30.342250999999997], [59.98516699999998, 30.342199], [59.985130999999974, 30.341818], [59.985071999999995, 30.341227], [59.98504799999999, 30.340984000000002], [59.98506299999998, 30.340977999999996], [59.98466299999998, 30.337222000000004], [59.984745, 30.337136], [59.98466499999997, 30.337194999999998], [59.984553, 30.335815999999994], [59.984285999999976, 30.334496], [59.98318199999998, 30.331919999999997], [59.98331499999998, 30.331682], [59.983179000000014, 30.331922], [59.982819999999975, 30.331111], [59.982289, 30.329913], [59.981626, 30.328415000000003], [59.98142499999998, 30.327961000000002], [59.981474, 30.327873999999998], [59.98138299999998, 30.327865999999997], [59.98094199999998, 30.326869999999996], [59.98067499999998, 30.326246], [59.979698000000006, 30.324039999999997], [59.979534, 30.323706], [59.97945299999998, 30.32354], [59.978564000000006, 30.321793], [59.97853200000001, 30.321858000000006], [59.978564000000006, 30.321793], [59.97850299999998, 30.321673000000004], [59.97753500000001, 30.319816], [59.977411, 30.319595], [59.97727899999999, 30.319369000000005], [59.97713399999998, 30.319118000000003], [59.976974999999996, 30.318868000000002], [59.976806, 30.318633], [59.97660099999999, 30.318386], [59.97643500000001, 30.318199999999997], [59.97628199999999, 30.318039], [59.976211999999975, 30.317974000000003], [59.97611999999998, 30.317883], [59.976000999999975, 30.317786], [59.97586100000001, 30.317688], [59.975725999999995, 30.317587], [59.97491599999997, 30.316986999999997], [59.97468599999998, 30.316826], [59.974737, 30.316532000000002], [59.97468599999998, 30.316826], [59.97467100000001, 30.316816000000003], [59.97244, 30.315261], [59.971149999999994, 30.314366], [59.970989, 30.314254999999996], [59.97092199999999, 30.314229], [59.97083500000001, 30.314194000000004], [59.970752000000005, 30.31417], [59.97076699999997, 30.313962000000004], [59.970752000000005, 30.314171], [59.97025299999999, 30.314030000000002], [59.97015000000001, 30.314006], [59.97005499999999, 30.313982999999997], [59.96994299999998, 30.313971000000002], [59.96984900000001, 30.313969], [59.96972299999999, 30.313985], [59.969599, 30.313999000000003], [59.969061999999994, 30.314061], [59.968228999999994, 30.314117], [59.968163, 30.314109], [59.968019999999996, 30.314078000000006], [59.96787999999999, 30.314013], [59.96780099999998, 30.313977000000005], [59.967783, 30.313969], [59.96776399999999, 30.313962000000004], [59.96772200000001, 30.313943], [59.967252, 30.313722999999996], [59.966932000000014, 30.313574000000003], [59.96672800000002, 30.313461], [59.966618999999994, 30.313376], [59.966555, 30.313314], [59.966463999999995, 30.313201000000003], [59.966383999999984, 30.313089999999995], [59.966215000000005, 30.312828999999997], [59.966136, 30.312707999999997], [59.96597099999999, 30.312426], [59.965926999999986, 30.31234], [59.965782, 30.312084999999996], [59.965635, 30.311840999999998], [59.965609, 30.311796], [59.96558099999999, 30.311748], [59.965512, 30.311636000000004], [59.965255, 30.311217999999997], [59.96501400000002, 30.310826], [59.96497999999997, 30.310770000000005], [59.96462199999999, 30.310187999999993], [59.964546999999996, 30.310067000000004], [59.964592, 30.309954], [59.96489499999999, 30.309198999999996], [59.965086, 30.308736], [59.965168, 30.308532999999997], [59.965248, 30.308342], [59.96532499999999, 30.308159000000003], [59.96578999999997, 30.307006000000005], [59.966046000000006, 30.306363999999995], [59.96610800000002, 30.306208], [59.966170999999996, 30.306053000000002], [59.966193999999994, 30.305997000000005], [59.966239999999985, 30.305941], [59.96630000000001, 30.3059], [59.966778999999995, 30.3056], [59.96684199999999, 30.30556], [59.966965000000016, 30.305617]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_5bbb3b2f972c378a0233dca2b9e32c3c);
        
    
            var marker_e6ad42850848e88a503fb4852f5b3b90 = L.marker(
                [59.932406999999984, 30.435808000000005],
                {}
            ).addTo(map_5bbb3b2f972c378a0233dca2b9e32c3c);

            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_5bbb3b2f972c378a0233dca2b9e32c3c.getCenter().lat,
                lng: map_5bbb3b2f972c378a0233dca2b9e32c3c.getCenter().lng,
                zoom: map_5bbb3b2f972c378a0233dca2b9e32c3c.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_5bbb3b2f972c378a0233dca2b9e32c3c.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_5bbb3b2f972c378a0233dca2b9e32c3c.setView(marker_e6ad42850848e88a503fb4852f5b3b90.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_5bbb3b2f972c378a0233dca2b9e32c3c.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_5bbb3b2f972c378a0233dca2b9e32c3c.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_5bbb3b2f972c378a0233dca2b9e32c3c.removeLayer(marker_e6ad42850848e88a503fb4852f5b3b90);
                }
                marker_e6ad42850848e88a503fb4852f5b3b90.setLatLng([lat, lon]);
                map_5bbb3b2f972c378a0233dca2b9e32c3c.setView([lat, lon], size_zoom);
            }

            map_5bbb3b2f972c378a0233dca2b9e32c3c.setView(marker_e6ad42850848e88a503fb4852f5b3b90.getLatLng(), size_zoom);
        
    
        var popup_f53bf25eb27d2c459c38ad0fecb868c8 = L.popup({"maxWidth": "100%"});

        
            
                var html_5eedfb05a4ac15e7fea6d36108b08386 = $(`<div id="html_5eedfb05a4ac15e7fea6d36108b08386" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_f53bf25eb27d2c459c38ad0fecb868c8.setContent(html_5eedfb05a4ac15e7fea6d36108b08386);
            
        

        marker_e6ad42850848e88a503fb4852f5b3b90.bindPopup(popup_f53bf25eb27d2c459c38ad0fecb868c8)
        ;

        
    
</script>
</html>