<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_f1264d4166e8fc68ab81afdfe2952d76 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_f1264d4166e8fc68ab81afdfe2952d76" ></div>
        
</body>
<script>
    
    
            var map_f1264d4166e8fc68ab81afdfe2952d76 = L.map(
                "map_f1264d4166e8fc68ab81afdfe2952d76",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_0d8b32a92f25b77498df5ec9cd574d56 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_0d8b32a92f25b77498df5ec9cd574d56.addTo(map_f1264d4166e8fc68ab81afdfe2952d76);
        
    
            var poly_line_222c53b192f90f5fedcb660622d63404 = L.polyline(
                [[59.966965000000016, 30.305617], [59.96694599999999, 30.305495000000004], [59.967209999999994, 30.305329], [59.96717400000001, 30.305119000000005], [59.96690499999998, 30.303556], [59.96679, 30.302889999999998], [59.966622, 30.301767], [59.966484, 30.300765], [59.966444, 30.300453000000005], [59.966404999999995, 30.300535999999997], [59.96626599999999, 30.30086], [59.96601299999998, 30.301477], [59.965935, 30.301672999999997], [59.965221, 30.303485999999996], [59.964946000000005, 30.304187000000002], [59.964909000000006, 30.304277999999996], [59.964861, 30.304399], [59.96446199999999, 30.305383], [59.96371299999997, 30.307230999999998], [59.963465, 30.307843999999996], [59.96338099999999, 30.308051000000003], [59.963351, 30.308124000000003], [59.96329599999998, 30.30825], [59.963179999999994, 30.308511999999997], [59.962879, 30.309191999999996], [59.96276599999998, 30.309447000000002], [59.962751999999995, 30.309479], [59.962637999999984, 30.309747000000005], [59.96259799999998, 30.309839], [59.962999999999994, 30.310477], [59.963255, 30.310879999999997], [59.963477, 30.311233], [59.96357900000002, 30.311394], [59.963832999999994, 30.311796], [59.96386999999999, 30.311852], [59.96390699999999, 30.311907], [59.96399099999999, 30.312033999999997], [59.96417699999996, 30.312315], [59.964411999999996, 30.312666], [59.964487999999996, 30.312785000000005], [59.964552999999995, 30.312882], [59.965223999999964, 30.312240999999997], [59.965377, 30.312271000000003], [59.96566699999999, 30.312330000000003], [59.96583300000001, 30.312359999999998], [59.965864, 30.312378], [59.96588999999999, 30.31242], [59.965937, 30.312506999999997], [59.966139000000005, 30.312848], [59.966179999999994, 30.312917], [59.966236, 30.313012], [59.966370000000005, 30.313225999999997], [59.96652399999998, 30.313426999999997], [59.966593000000024, 30.313495000000003], [59.966709, 30.313573000000005], [59.96691100000001, 30.313684], [59.96770699999999, 30.314076], [59.967749999999995, 30.314096000000006], [59.967768000000014, 30.314103999999997], [59.96778799999998, 30.314112000000005], [59.96786500000002, 30.314146000000004], [59.968003999999986, 30.314206], [59.96814599999998, 30.314250999999995], [59.96822999999999, 30.314277], [59.96828800000001, 30.314288], [59.96837799999998, 30.314294000000004], [59.969064, 30.314242000000004], [59.96982199999998, 30.314171], [59.96991899999998, 30.314167], [59.969996999999985, 30.314175], [59.970113, 30.314199], [59.97067100000001, 30.314338000000003], [59.97081300000001, 30.314383999999997], [59.970916999999986, 30.314427000000002], [59.970981999999985, 30.314465000000002], [59.971116000000016, 30.314568], [59.971256999999994, 30.314673], [59.971419999999995, 30.314786000000005], [59.97138499999999, 30.314991000000003], [59.971419999999995, 30.314786000000005], [59.97488600000001, 30.31717099999999], [59.975056, 30.317290999999997], [59.97508200000001, 30.317311], [59.97506199999999, 30.317416], [59.97508, 30.317322], [59.97534100000001, 30.317515999999998], [59.975691999999995, 30.317778000000004], [59.975840000000005, 30.317895], [59.97599700000001, 30.318017], [59.976163999999976, 30.318165999999998], [59.97632699999999, 30.318321], [59.976508999999986, 30.318532], [59.97668800000001, 30.318748999999997], [59.976842999999995, 30.318958], [59.976992999999965, 30.319178999999995], [59.97715599999999, 30.319437000000004], [59.977280000000015, 30.319663000000002], [59.977460999999984, 30.319985999999997], [59.97798899999998, 30.320990999999996], [59.978433999999986, 30.321835], [59.97936800000001, 30.323687000000003], [59.979457, 30.323864000000004], [59.979617, 30.324181000000003], [59.980593999999996, 30.326395999999992], [59.980854999999984, 30.326966], [59.98150400000001, 30.328434999999995], [59.98143600000001, 30.328555], [59.98150400000001, 30.328434999999995], [59.98155900000001, 30.328558999999995], [59.982220000000005, 30.330053999999997], [59.98274899999998, 30.331250999999998], [59.982898999999996, 30.331596000000005], [59.982821000000015, 30.331731], [59.982898999999996, 30.331596000000005], [59.98299799999998, 30.331824], [59.983274999999985, 30.332440999999996], [59.983756, 30.33352899999999], [59.983886000000005, 30.333859000000004], [59.98409300000001, 30.334454999999995], [59.984207000000005, 30.334835999999996], [59.98427499999999, 30.335106999999997], [59.984309, 30.33532900000001], [59.98433900000002, 30.335566000000004], [59.98438999999999, 30.33608], [59.98433999999999, 30.336099999999995], [59.98438999999999, 30.33608], [59.98440199999999, 30.336205000000003], [59.984510999999955, 30.337297], [59.98461899999999, 30.338389999999997], [59.98480700000001, 30.340243000000005], [59.984858, 30.340742999999993], [59.984979, 30.341882999999996], [59.98499900000001, 30.34207], [59.98507000000001, 30.34204], [59.98499900000001, 30.34207], [59.985017, 30.342250999999997], [59.985114, 30.343265999999996], [59.98521100000001, 30.344266], [59.98510799999999, 30.344306], [59.985206000000005, 30.344265000000004], [59.985217, 30.344368000000003], [59.98535199999997, 30.345657], [59.98536399999999, 30.345785999999997], [59.98548200000001, 30.346996999999998], [59.98555900000001, 30.347797], [59.985609000000004, 30.348317], [59.985687999999975, 30.349125], [59.98571000000001, 30.349354999999996], [59.98573699999998, 30.349655999999996], [59.98564999999997, 30.349718], [59.985739999999986, 30.349684], [59.985751, 30.349799], [59.98588999999998, 30.351256000000003], [59.985935000000005, 30.351711999999996], [59.98596699999997, 30.352087], [59.98627100000002, 30.355310999999997], [59.986165000000014, 30.355351000000002], [59.98627100000002, 30.355310999999997], [59.986417999999986, 30.356869], [59.98648799999998, 30.357665999999995], [59.986515, 30.358086000000004], [59.98653000000001, 30.358608], [59.986489, 30.359319], [59.986421, 30.359906999999996], [59.986356, 30.360296], [59.98612999999999, 30.361706], [59.98590099999997, 30.362838999999997], [59.98568999999998, 30.363631], [59.98540799999999, 30.364474], [59.985194000000014, 30.365069000000002], [59.98225800000001, 30.373623000000002], [59.981216999999994, 30.376671], [59.980692999999995, 30.378171999999996], [59.98018499999998, 30.379647], [59.97978699999998, 30.380802000000003], [59.979262, 30.382303999999998], [59.979144999999974, 30.382648999999997], [59.97901199999998, 30.383037000000005], [59.97898599999999, 30.383001999999998], [59.978922000000004, 30.383332], [59.97884300000001, 30.383591000000003], [59.97871200000001, 30.384088000000002], [59.97842800000001, 30.385475000000003], [59.97760900000002, 30.392639999999997], [59.977572, 30.392948], [59.97752799999997, 30.39333], [59.977460999999984, 30.393899], [59.977364999999985, 30.393854000000005], [59.977460999999984, 30.393899], [59.97707900000002, 30.397181], [59.976926999999996, 30.398481999999998], [59.976674, 30.400665], [59.976525999999986, 30.401775999999998], [59.976497, 30.401996], [59.97645499999999, 30.402374], [59.97658499999998, 30.402485000000006], [59.976996000000014, 30.402951999999996], [59.9772, 30.403329000000003], [59.97770099999999, 30.403855], [59.97775499999999, 30.403918], [59.977777000000025, 30.403943000000005], [59.97953900000002, 30.405941], [59.980562000000006, 30.407055999999997], [59.980684, 30.40719], [59.980899, 30.407427000000002], [59.98269600000001, 30.409403], [59.98279099999999, 30.409508], [59.982846999999985, 30.409294999999997], [59.98285099999997, 30.409298999999997], [59.982846999999985, 30.409294999999997], [59.98279099999999, 30.409508], [59.98276499999998, 30.409619], [59.982726, 30.409789999999997], [59.98265199999999, 30.410111000000004], [59.982052999999986, 30.412877999999996], [59.98202699999998, 30.412999], [59.981995000000005, 30.413148999999997], [59.98197099999998, 30.413258], [59.98194999999999, 30.413352999999997], [59.98192699999999, 30.413456], [59.98164599999998, 30.414705], [59.98157799999999, 30.415011000000003], [59.98147499999999, 30.415469], [59.98097699999999, 30.417687], [59.98056900000001, 30.419501000000004], [59.980465, 30.419723], [59.98039299999998, 30.419957999999994], [59.98022499999998, 30.420707999999998], [59.980160999999995, 30.420994000000004], [59.98010399999998, 30.421253999999998], [59.980042, 30.421532999999997], [59.980008000000005, 30.421656999999996], [59.97985299999997, 30.422227], [59.979835000000016, 30.422524000000003], [59.979641000000015, 30.423266000000005], [59.97959300000001, 30.423437000000003], [59.979413, 30.424092], [59.97926000000001, 30.424653999999997], [59.97924199999999, 30.424724999999995], [59.978723, 30.426663999999995], [59.978581999999996, 30.427181], [59.978417999999984, 30.427784000000003], [59.97836599999999, 30.427977000000002], [59.97793300000001, 30.429572000000004], [59.97789399999999, 30.429716], [59.977804000000006, 30.430046], [59.977766, 30.430186], [59.977624000000006, 30.430708], [59.977549, 30.430993999999995], [59.97734999999997, 30.431755], [59.977228999999994, 30.432241], [59.97719599999999, 30.432416], [59.977141, 30.432782999999993], [59.97704199999998, 30.433626000000004], [59.977019, 30.433817], [59.97689900000001, 30.434806], [59.97689399999998, 30.434853999999998], [59.976816, 30.435490999999995], [59.976719999999986, 30.436285999999996], [59.97670599999997, 30.436404000000003], [59.97667999999999, 30.436614], [59.97645699999999, 30.436494999999997], [59.976116, 30.436316000000005], [59.976032999999994, 30.436272], [59.975900999999986, 30.436202], [59.975774000000015, 30.436132], [59.97561399999999, 30.436077000000004], [59.97546499999998, 30.436055000000003], [59.975336999999996, 30.436085000000002], [59.97532299999999, 30.436094], [59.975134999999995, 30.436188999999995], [59.97504500000001, 30.436231], [59.974934, 30.436263999999998], [59.974806999999984, 30.436287000000004], [59.974597, 30.436272], [59.97434299999997, 30.436248], [59.97415000000001, 30.436217999999997], [59.97404299999997, 30.436382999999992], [59.97395699999998, 30.436477000000004], [59.97380900000001, 30.436587], [59.973676999999995, 30.436658999999995], [59.97349499999999, 30.436752], [59.973224999999985, 30.436787], [59.973030999999985, 30.436807000000005], [59.97291099999998, 30.436819], [59.972412000000006, 30.436867999999997], [59.971733, 30.436931999999995], [59.97163700000001, 30.43694], [59.969477000000005, 30.437168], [59.968455999999996, 30.437275000000003], [59.96833599999999, 30.437286999999998], [59.968173000000014, 30.437302999999996], [59.96634399999998, 30.437472], [59.964507999999995, 30.437644], [59.963696, 30.437745], [59.96357900000002, 30.437756], [59.96273699999998, 30.437840999999995], [59.962623, 30.437847], [59.961545000000015, 30.437905000000004], [59.960869999999986, 30.437948000000002], [59.96073200000001, 30.43796], [59.96068399999998, 30.437951000000005], [59.96064199999997, 30.437927999999996], [59.96059, 30.437884], [59.960543, 30.43779], [59.96050100000001, 30.437640000000002], [59.96044299999998, 30.437501999999995], [59.96035900000001, 30.437335999999995], [59.96023300000001, 30.437302000000003], [59.96014399999999, 30.437308999999996], [59.960053000000016, 30.437370000000005], [59.95999299999998, 30.437469], [59.95995099999998, 30.437553000000005], [59.959923999999965, 30.437651999999996], [59.95990200000001, 30.437755], [59.959841999999995, 30.437895], [59.959785000000004, 30.437979999999996], [59.959708, 30.438030999999995], [59.95962600000001, 30.438041999999996], [59.95947, 30.438018000000003], [59.959037, 30.437951000000005], [59.957676000000006, 30.437710999999997], [59.957482000000006, 30.437676999999994], [59.95483299999999, 30.437209000000006], [59.95473599999997, 30.437192999999997], [59.95390499999996, 30.43705], [59.953350999999984, 30.436949], [59.953124000000024, 30.436908000000003], [59.95287799999999, 30.436869], [59.952653999999995, 30.436835999999996], [59.95245799999998, 30.436803999999995], [59.952388, 30.436786000000005], [59.95220199999999, 30.436751], [59.951433, 30.436605], [59.95074799999999, 30.436486], [59.948487000000014, 30.436091000000005], [59.94805299999998, 30.436025000000004], [59.947873, 30.436032], [59.94751700000001, 30.436054], [59.94736100000001, 30.436048999999997], [59.946985000000005, 30.436036000000005], [59.946089000000015, 30.435914000000004], [59.94593700000001, 30.435886000000004], [59.945806999999995, 30.435847], [59.94543199999999, 30.435691], [59.94534399999999, 30.435665000000007], [59.945276999999976, 30.435643], [59.94503199999999, 30.435595999999997], [59.943529, 30.435338000000005], [59.94330600000001, 30.435305999999997], [59.94324500000002, 30.435290999999996], [59.94315300000001, 30.435265999999995], [59.943070999999996, 30.435248], [59.942940000000014, 30.435205999999997], [59.94241999999998, 30.435039], [59.942343000000015, 30.435083], [59.94200900000001, 30.434993999999996], [59.94175999999999, 30.434950999999998], [59.94152899999999, 30.434937], [59.94129799999999, 30.434955], [59.941252999999996, 30.434963000000003], [59.940564, 30.434953999999998], [59.94030399999999, 30.434959999999997], [59.94026999999999, 30.434956999999997], [59.93996100000001, 30.434981000000004], [59.939750999999994, 30.435001], [59.93964600000001, 30.435019000000004], [59.93912700000002, 30.435085], [59.93819900000002, 30.435172000000005], [59.936776000000016, 30.43513], [59.93658, 30.43513], [59.93658, 30.435229], [59.93658, 30.43513], [59.936390999999986, 30.435128999999996], [59.93618699999998, 30.435138], [59.93611800000001, 30.435141], [59.93500500000001, 30.435187999999993], [59.93439400000001, 30.435213999999995], [59.93365399999997, 30.435253999999997], [59.93342300000001, 30.435264000000004], [59.93329000000002, 30.435270999999997], [59.93439699999998, 30.440364999999996], [59.93408399999999, 30.440614], [59.933876999999995, 30.440563000000004], [59.93314199999999, 30.441104000000003], [59.93128599999998, 30.438798], [59.93103199999998, 30.438485000000004], [59.93191, 30.435592000000003], [59.932123999999995, 30.435591000000002], [59.93240500000001, 30.435579], [59.932406999999984, 30.435808000000005]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_f1264d4166e8fc68ab81afdfe2952d76);
        
    
            var marker_8790800182e1a1a2b040abb33d034b86 = L.marker(
                [59.966965000000016, 30.305617],
                {}
            ).addTo(map_f1264d4166e8fc68ab81afdfe2952d76);

            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_f1264d4166e8fc68ab81afdfe2952d76.getCenter().lat,
                lng: map_f1264d4166e8fc68ab81afdfe2952d76.getCenter().lng,
                zoom: map_f1264d4166e8fc68ab81afdfe2952d76.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_f1264d4166e8fc68ab81afdfe2952d76.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_f1264d4166e8fc68ab81afdfe2952d76.setView(marker_8790800182e1a1a2b040abb33d034b86.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_f1264d4166e8fc68ab81afdfe2952d76.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_f1264d4166e8fc68ab81afdfe2952d76.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_f1264d4166e8fc68ab81afdfe2952d76.removeLayer(marker_8790800182e1a1a2b040abb33d034b86);
                }
                marker_8790800182e1a1a2b040abb33d034b86.setLatLng([lat, lon]);
                map_f1264d4166e8fc68ab81afdfe2952d76.setView([lat, lon], size_zoom);
            }

            map_f1264d4166e8fc68ab81afdfe2952d76.setView(marker_8790800182e1a1a2b040abb33d034b86.getLatLng(), size_zoom);
        
    
        var popup_12a47ccb9891555b34421af04637580c = L.popup({"maxWidth": "100%"});

        
            
                var html_e10da2a03fee503e5cfe7613f37526f3 = $(`<div id="html_e10da2a03fee503e5cfe7613f37526f3" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_12a47ccb9891555b34421af04637580c.setContent(html_e10da2a03fee503e5cfe7613f37526f3);
            
        

        marker_8790800182e1a1a2b040abb33d034b86.bindPopup(popup_12a47ccb9891555b34421af04637580c)
        ;

        
    
</script>
</html>