<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_702426d9d33df878a027262531aa5c69 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_702426d9d33df878a027262531aa5c69" ></div>
        
</body>
<script>
    
    
            var map_702426d9d33df878a027262531aa5c69 = L.map(
                "map_702426d9d33df878a027262531aa5c69",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_fc8be6d5e7f2a027dc7a9ba069c0bfd5 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_fc8be6d5e7f2a027dc7a9ba069c0bfd5.addTo(map_702426d9d33df878a027262531aa5c69);
        
    
            var poly_line_41c3888b8850b177d34368adf5dd3d6a = L.polyline(
                [[60.009341, 30.493456999999996], [60.009241999999986, 30.493533], [60.009205000000016, 30.493558], [60.00913800000001, 30.493595000000003], [60.009057999999996, 30.493647], [60.00899700000001, 30.493681], [60.00863200000001, 30.492387999999995], [60.00797999999999, 30.490198999999997], [60.007408999999996, 30.488363], [60.007342999999985, 30.488121], [60.007297, 30.487814000000004], [60.007304999999974, 30.487809000000002], [60.007304999999974, 30.487715000000005], [60.007318999999995, 30.487410999999994], [60.007335, 30.487214999999996], [60.00733600000001, 30.486992000000004], [60.00725999999999, 30.486704], [60.00727899999998, 30.486364], [60.00711900000001, 30.485097000000003], [60.00747900000002, 30.484950000000005], [60.007808999999995, 30.484961], [60.008296000000016, 30.485084], [60.008793, 30.485165], [60.009053, 30.485138], [60.00956999999999, 30.484951000000002], [60.00994800000001, 30.484717], [60.010342000000016, 30.484180999999996], [60.011552, 30.482197000000006], [60.012676000000006, 30.480298], [60.01288900000001, 30.479949], [60.013017000000005, 30.480018], [60.01302899999998, 30.479755000000004], [60.01505900000001, 30.476416999999998], [60.016361000000025, 30.474301000000004], [60.016842999999994, 30.473532], [60.017042999999994, 30.473735000000005], [60.016906999999996, 30.473446000000003], [60.017847999999994, 30.471912000000003], [60.017449, 30.470829], [60.01824800000001, 30.469562999999994], [60.01906100000001, 30.468294000000004], [60.019667, 30.467315], [60.020388999999994, 30.466107], [60.020515999999986, 30.465774999999997], [60.020614000000016, 30.465400999999996], [60.02078199999999, 30.464648999999998], [60.020808000000024, 30.464493999999995], [60.02083600000001, 30.464344000000004], [60.02085600000001, 30.464221999999996], [60.02087799999999, 30.464043000000004], [60.02069500000001, 30.463956999999997], [60.02057299999997, 30.463893000000002], [60.02044800000002, 30.463811], [60.020256, 30.463635000000007], [60.018976, 30.462297], [60.01813000000001, 30.461367999999997], [60.01796, 30.461174], [60.017105, 30.46027], [60.01673, 30.459877], [60.01632600000001, 30.459465], [60.01548099999999, 30.458576999999995], [60.0144, 30.457429000000005], [60.01380400000001, 30.45675], [60.013511999999984, 30.456461], [60.01305100000001, 30.455961], [60.012821, 30.455712999999996], [60.012533, 30.45541499999999], [60.012317999999986, 30.455201999999996], [60.01234199999998, 30.455107000000005], [60.012317999999986, 30.455201999999996], [60.01160299999999, 30.45449], [60.010049, 30.452852999999998], [60.009432999999994, 30.452204000000002], [60.00844399999998, 30.451161999999997], [60.00774999999999, 30.450431], [60.00735800000001, 30.450017999999996], [60.006936, 30.449573], [60.006801, 30.449431000000004], [60.006693999999975, 30.449318], [60.006471, 30.449083], [60.005549000000016, 30.448112], [60.00541999999998, 30.447976999999998], [60.00540000000001, 30.447955], [60.00541999999998, 30.44788], [60.005391999999965, 30.447957000000002], [60.00434899999999, 30.446854], [60.003821, 30.446300000000004], [60.00327899999998, 30.44574], [60.00332000000001, 30.445609999999995], [60.00328300000001, 30.445735], [60.00289900000002, 30.445332000000004], [60.00251500000001, 30.444924999999998], [60.001755, 30.444110000000002], [60.000617000000005, 30.442899999999998], [59.999477000000006, 30.441677999999996], [59.99832699999999, 30.440441], [59.99798100000002, 30.440083], [59.997635, 30.439681999999998], [59.997475, 30.439478000000005], [59.997351, 30.439262], [59.997259999999976, 30.438945999999998], [59.997219999999984, 30.438695000000003], [59.99719500000001, 30.438486], [59.99719299999999, 30.43826], [59.99722699999998, 30.438062], [59.99728799999999, 30.437917], [59.997758000000005, 30.437793], [59.99776699999998, 30.437936], [59.99775699999999, 30.437773], [59.997865999999995, 30.437746], [59.99940099999998, 30.437358], [60.00129499999999, 30.436878999999994], [60.00269799999999, 30.436525000000003], [60.002758, 30.436510000000002], [60.002765, 30.436629999999994], [60.002758, 30.436510000000002], [60.003133999999996, 30.436415], [60.00332000000001, 30.436367999999998], [60.003392999999996, 30.436636999999997], [60.003541999999996, 30.436837], [60.00369700000001, 30.436888], [60.00382200000001, 30.436843999999997], [60.00395800000001, 30.436687999999997], [60.004038999999985, 30.436438], [60.00407199999999, 30.436178000000005], [60.00406999999999, 30.436028000000004], [60.00405599999999, 30.435892], [60.00401700000002, 30.435712000000002], [60.00395899999998, 30.435564000000003], [60.00388399999999, 30.435448000000008], [60.00379699999999, 30.435371], [60.00374500000001, 30.435267999999997], [60.003735, 30.435143000000004], [60.00374399999996, 30.435035000000003], [60.00384, 30.434679], [60.00407400000001, 30.433764], [60.004197999999974, 30.433248], [60.004205999999996, 30.432919], [60.004275, 30.432645000000004], [60.004664999999974, 30.431108], [60.004711999999984, 30.430923], [60.00475100000002, 30.430769000000005], [60.004832999999984, 30.43085200000001], [60.00477799999998, 30.430690999999996], [60.005739999999996, 30.426844999999997], [60.006710000000005, 30.423009], [60.007105999999986, 30.423503], [60.00707, 30.42375], [60.00714300000001, 30.423536000000006], [60.00724099999998, 30.423669], [60.007963999999994, 30.424509999999998], [60.009901, 30.426799], [60.00988, 30.426870000000008], [60.009901, 30.426799], [60.01001599999999, 30.426935000000004], [60.010101, 30.427036999999995], [60.01063199999999, 30.427690999999996], [60.012359, 30.429702], [60.01245800000001, 30.429818], [60.012476999999976, 30.429927999999997], [60.01247399999998, 30.42993], [60.012494, 30.42986], [60.01274500000002, 30.430152], [60.012916999999966, 30.430353], [60.01302099999999, 30.430474], [60.01370999999999, 30.431275999999997], [60.01426699999999, 30.431925], [60.01428799999999, 30.432026], [60.014302, 30.432130000000004], [60.01428799999999, 30.432334000000004], [60.01423700000001, 30.432482000000004], [60.013510999999994, 30.432812000000006], [60.01339999999999, 30.432953], [60.013352000000005, 30.433078000000002], [60.013333999999986, 30.433204000000003], [60.01333199999998, 30.433364999999995], [60.013352000000005, 30.433505000000004], [60.013423, 30.433619], [60.013482, 30.433685], [60.01357200000001, 30.433743], [60.014391999999994, 30.433534], [60.014773000000005, 30.433434999999996], [60.015071000000006, 30.433350999999995], [60.015211, 30.433176000000003], [60.015318999999984, 30.432918], [60.01553099999999, 30.432118], [60.01561699999998, 30.431769999999997], [60.015743999999984, 30.431256], [60.015789, 30.431080000000005], [60.01646899999999, 30.428399000000002], [60.016527999999994, 30.428167], [60.016611999999995, 30.428252999999994], [60.01652999999999, 30.42818], [60.016859999999994, 30.426863999999995], [60.017192, 30.425564], [60.017865000000015, 30.422905], [60.018567999999995, 30.420136], [60.019269000000016, 30.417378], [60.019026, 30.417153], [60.01879399999999, 30.416906999999995], [60.01879699999998, 30.416839999999997], [60.018777, 30.416921999999996], [60.01833, 30.416474], [60.01820999999999, 30.416354], [60.018041, 30.416185], [60.017366999999986, 30.415509999999998], [60.016899999999985, 30.41504], [60.01684600000001, 30.414988000000005], [60.01602299999999, 30.414163000000002], [60.01505299999999, 30.413191], [60.014689999999995, 30.412825999999995], [60.014593, 30.412729999999996], [60.014515999999986, 30.412653], [60.01445599999999, 30.412592], [60.01447900000001, 30.412501], [60.01442799999999, 30.412556000000002], [60.01344799999999, 30.411579999999997], [60.01295600000002, 30.411086999999995], [60.01246299999997, 30.410583000000003], [60.01088399999999, 30.409016999999995], [60.010387, 30.408503], [60.01045299999998, 30.408177000000006], [60.01053799999998, 30.407894000000002], [60.010709999999996, 30.408052999999995], [60.010551, 30.407835999999996], [60.011362999999996, 30.404603999999996], [60.012305999999974, 30.400822000000005], [60.013085, 30.397678], [60.01286400000001, 30.397453], [60.01283499999998, 30.397367]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_702426d9d33df878a027262531aa5c69);
        
    
            var marker_ccef113e8b2d8dfc79e3f5d5ccb5dbdf = L.marker(
                [60.009341, 30.493456999999996],
                {}
            ).addTo(map_702426d9d33df878a027262531aa5c69);

            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_702426d9d33df878a027262531aa5c69.getCenter().lat,
                lng: map_702426d9d33df878a027262531aa5c69.getCenter().lng,
                zoom: map_702426d9d33df878a027262531aa5c69.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_702426d9d33df878a027262531aa5c69.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_702426d9d33df878a027262531aa5c69.setView(marker_ccef113e8b2d8dfc79e3f5d5ccb5dbdf.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_702426d9d33df878a027262531aa5c69.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_702426d9d33df878a027262531aa5c69.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_702426d9d33df878a027262531aa5c69.removeLayer(marker_ccef113e8b2d8dfc79e3f5d5ccb5dbdf);
                }
                marker_ccef113e8b2d8dfc79e3f5d5ccb5dbdf.setLatLng([lat, lon]);
                map_702426d9d33df878a027262531aa5c69.setView([lat, lon], size_zoom);
            }

            map_702426d9d33df878a027262531aa5c69.setView(marker_ccef113e8b2d8dfc79e3f5d5ccb5dbdf.getLatLng(), size_zoom);
        
    
        var popup_85ae855f46de2b6122b45ac76c372dbe = L.popup({"maxWidth": "100%"});

        
            
                var html_d952071c431ef4010a7597d0cae7c12e = $(`<div id="html_d952071c431ef4010a7597d0cae7c12e" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_85ae855f46de2b6122b45ac76c372dbe.setContent(html_d952071c431ef4010a7597d0cae7c12e);
            
        

        marker_ccef113e8b2d8dfc79e3f5d5ccb5dbdf.bindPopup(popup_85ae855f46de2b6122b45ac76c372dbe)
        ;

        
    
</script>
</html>