<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_a45dba84035e4844903b69d9eb87a827 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_a45dba84035e4844903b69d9eb87a827" ></div>
        
</body>
<script>
    
    
            var map_a45dba84035e4844903b69d9eb87a827 = L.map(
                "map_a45dba84035e4844903b69d9eb87a827",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_ad612c52356276c9d8b7c79024bbfd15 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_ad612c52356276c9d8b7c79024bbfd15.addTo(map_a45dba84035e4844903b69d9eb87a827);
        
    
            var poly_line_67a6d43bdf13f5302a0407d0a0a59596 = L.polyline(
                [[59.997429999999994, 30.363300000000002], [59.99749300000002, 30.363349], [59.997460999999994, 30.363513000000005], [59.99743999999999, 30.363767], [59.997480999999986, 30.364104], [59.997533000000004, 30.364362000000007], [59.997617, 30.364614], [59.99770499999998, 30.364788], [59.997799999999984, 30.364927000000005], [59.99789699999999, 30.365041000000005], [59.998136999999986, 30.365142000000002], [59.99835800000001, 30.365172999999995], [59.998454, 30.365145000000002], [59.99855900000001, 30.365108], [59.99871300000001, 30.365042000000003], [59.99892699999999, 30.365069000000002], [59.999151000000005, 30.365126000000004], [59.99938100000001, 30.365226000000003], [60.00058600000001, 30.365712], [60.00060000000001, 30.365779999999997], [60.00059199999997, 30.365719999999996], [60.00128000000001, 30.366038000000003], [60.00157899999999, 30.366214], [60.001845, 30.366388999999995], [60.003203000000006, 30.367319999999996], [60.003896000000005, 30.367784999999998], [60.00480499999999, 30.368366], [60.005907, 30.369102000000005], [60.00718100000001, 30.369924999999995], [60.00727899999998, 30.369948000000004], [60.00737700000002, 30.369926999999997], [60.00757900000001, 30.369897], [60.00799399999999, 30.369805999999997], [60.00864, 30.369653], [60.008832, 30.369612], [60.009019, 30.369527999999995], [60.00902300000001, 30.369596999999995], [60.00901099999999, 30.369538], [60.009127, 30.369425999999994], [60.009337, 30.369242999999997], [60.009547, 30.369136], [60.00967200000001, 30.369101000000004], [60.009802000000015, 30.369099000000002], [60.010077999999986, 30.369206000000005], [60.010354000000014, 30.369281], [60.01058899999999, 30.369226999999995], [60.011254999999984, 30.369071000000005], [60.011808999999985, 30.368955000000003], [60.012425, 30.368819], [60.012977, 30.368686], [60.012970999999986, 30.368745999999998], [60.012965, 30.368695999999996], [60.01348400000001, 30.36856999999999], [60.01421500000001, 30.368389000000008], [60.014604, 30.368303], [60.015035999999995, 30.368212000000007], [60.015352, 30.368124000000005], [60.01566900000001, 30.368057999999998], [60.016314999999985, 30.367904000000003], [60.016842999999994, 30.367765999999996], [60.01737000000002, 30.367660000000004], [60.01738499999998, 30.367738999999997], [60.01737599999997, 30.367647], [60.01810199999999, 30.367472], [60.01827500000001, 30.367431000000003], [60.01844899999998, 30.367412000000005], [60.01863000000001, 30.36744], [60.01879499999999, 30.367491000000005], [60.01906100000001, 30.368181999999997], [60.01943399999998, 30.369108], [60.01940499999997, 30.369153999999998], [60.01943399999998, 30.369108], [60.01970500000001, 30.369778999999998], [60.019781999999985, 30.369970000000002], [60.02116800000002, 30.373400000000004], [60.02127500000001, 30.373674999999995], [60.021315000000016, 30.373776999999997], [60.02214400000001, 30.375835000000002], [60.02229899999999, 30.376225], [60.022542999999985, 30.376827999999993], [60.022598, 30.376963], [60.022706, 30.377231], [60.02267599999999, 30.377279000000005], [60.022706, 30.377231], [60.023163, 30.37837], [60.02342900000001, 30.379030999999998], [60.02346500000002, 30.379118999999996], [60.02478, 30.382386], [60.02492399999999, 30.382742000000004], [60.02497999999998, 30.382878999999996], [60.024945999999986, 30.382933], [60.02497999999998, 30.382878999999996], [60.02527799999997, 30.383611999999992], [60.025338999999995, 30.383763999999996], [60.025532, 30.384258], [60.026198000000015, 30.385932000000004], [60.02642500000001, 30.386468000000004], [60.02662999999997, 30.386851000000004], [60.027060000000006, 30.387621000000003], [60.027193000000004, 30.387829], [60.027280999999995, 30.387962], [60.02768400000001, 30.388563000000005], [60.02803999999996, 30.389020999999996], [60.02816699999999, 30.389183000000003], [60.02826100000001, 30.389295000000004], [60.02872899999999, 30.389810000000008], [60.03063000000001, 30.391624999999998], [60.03078099999998, 30.391752000000007], [60.031054000000005, 30.391925999999998], [60.031326000000014, 30.392143999999995], [60.031283999999985, 30.392325], [60.031326000000014, 30.392143999999995], [60.03229, 30.392953], [60.033422, 30.393901], [60.03387000000002, 30.394288], [60.033986999999996, 30.394383000000005], [60.034143, 30.394511999999995], [60.034445, 30.394756000000005], [60.03442299999999, 30.394862], [60.034445, 30.394756000000005], [60.036162, 30.396145999999998], [60.037616, 30.397343999999997], [60.03771199999999, 30.39742], [60.039132, 30.398559999999996], [60.039521999999984, 30.398886], [60.039681000000016, 30.399019], [60.039871999999974, 30.399175999999997], [60.040053000000015, 30.399323999999996], [60.040259999999975, 30.399492000000002], [60.040238, 30.399595999999995], [60.040254999999995, 30.39949], [60.04047, 30.399673999999997], [60.04377099999999, 30.402362], [60.044133000000016, 30.402637999999996], [60.044249999999984, 30.402731000000003], [60.044374, 30.402834], [60.04455200000002, 30.402970999999997], [60.04453199999998, 30.403075999999995], [60.04455, 30.402959], [60.04474200000001, 30.403126], [60.04492200000001, 30.403615], [60.045073000000016, 30.403757], [60.04522899999999, 30.403868000000003], [60.04555299999998, 30.404124000000003], [60.046181, 30.404647999999998], [60.04632599999999, 30.404763], [60.04631, 30.40491], [60.046331, 30.404761], [60.04655499999999, 30.404955000000005], [60.046672, 30.404976999999995], [60.046852, 30.404979999999995], [60.046936999999986, 30.404955000000005], [60.04702200000001, 30.404951], [60.04717800000002, 30.405104], [60.04716200000001, 30.405263999999995], [60.047179, 30.405402], [60.04720900000002, 30.405674999999995], [60.047214000000004, 30.406013000000005], [60.047179, 30.406318], [60.04711099999999, 30.406269], [60.04718399999999, 30.40632], [60.04704100000001, 30.407151], [60.046951999999976, 30.407641], [60.04687800000001, 30.407816999999998], [60.04676699999998, 30.407982999999998], [60.046672, 30.40803], [60.04639499999998, 30.407829], [60.04632899999999, 30.407753000000003], [60.04628599999999, 30.407655], [60.04624799999999, 30.407536999999998], [60.046131999999986, 30.407083999999998], [60.046179999999985, 30.407080000000004]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_a45dba84035e4844903b69d9eb87a827);
        
    
            var marker_c0215efb57481df2e61880c9c968bc1d = L.marker(
                [59.997429999999994, 30.363300000000002],
                {}
            ).addTo(map_a45dba84035e4844903b69d9eb87a827);

            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_a45dba84035e4844903b69d9eb87a827.getCenter().lat,
                lng: map_a45dba84035e4844903b69d9eb87a827.getCenter().lng,
                zoom: map_a45dba84035e4844903b69d9eb87a827.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_a45dba84035e4844903b69d9eb87a827.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_a45dba84035e4844903b69d9eb87a827.setView(marker_c0215efb57481df2e61880c9c968bc1d.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_a45dba84035e4844903b69d9eb87a827.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_a45dba84035e4844903b69d9eb87a827.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_a45dba84035e4844903b69d9eb87a827.removeLayer(marker_c0215efb57481df2e61880c9c968bc1d);
                }
                marker_c0215efb57481df2e61880c9c968bc1d.setLatLng([lat, lon]);
                map_a45dba84035e4844903b69d9eb87a827.setView([lat, lon], size_zoom);
            }

            map_a45dba84035e4844903b69d9eb87a827.setView(marker_c0215efb57481df2e61880c9c968bc1d.getLatLng(), size_zoom);
        
    
        var popup_fcd796f22eb3e9279f7758febf0a6ffe = L.popup({"maxWidth": "100%"});

        
            
                var html_ab96460307e26ec44fb79e77b8958d43 = $(`<div id="html_ab96460307e26ec44fb79e77b8958d43" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_fcd796f22eb3e9279f7758febf0a6ffe.setContent(html_ab96460307e26ec44fb79e77b8958d43);
            
        

        marker_c0215efb57481df2e61880c9c968bc1d.bindPopup(popup_fcd796f22eb3e9279f7758febf0a6ffe)
        ;

        
    
</script>
</html>