<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_29f3e19304f52a607b314ccca83a4a7a {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_29f3e19304f52a607b314ccca83a4a7a" ></div>
        
</body>
<script>
    
    
            var map_29f3e19304f52a607b314ccca83a4a7a = L.map(
                "map_29f3e19304f52a607b314ccca83a4a7a",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_b7800002c4767bb22baeff2f6a685dd6 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_b7800002c4767bb22baeff2f6a685dd6.addTo(map_29f3e19304f52a607b314ccca83a4a7a);
        
    
            var poly_line_7b90500bcfbb06d0a63e5c6794a3033a = L.polyline(
                [[59.923736999999996, 30.411316], [59.92373199999997, 30.411298], [59.92373800000001, 30.411316], [59.923937, 30.411096999999998], [59.923932000000015, 30.411079000000004], [59.923937, 30.411096], [59.923944999999975, 30.411095000000003], [59.92435299999998, 30.410665999999996], [59.92488099999999, 30.410087999999995], [59.925327, 30.409606], [59.92560699999999, 30.409303], [59.92592600000001, 30.408952], [59.92622699999999, 30.408642], [59.926483, 30.408395000000002], [59.926804, 30.408081999999997], [59.92701500000002, 30.407915], [59.927017, 30.407949000000002], [59.926994999999984, 30.407931999999995], [59.927783, 30.407257000000005], [59.92794700000001, 30.407121999999998], [59.927984999999985, 30.407329999999998], [59.928086, 30.407822], [59.92823000000001, 30.408544999999993], [59.928471000000016, 30.409758000000004], [59.928746999999994, 30.411129000000003], [59.928865999999964, 30.411707000000007], [59.92895899999999, 30.412133], [59.92909999999998, 30.412020000000002], [59.92941799999998, 30.411780999999998], [59.930224999999986, 30.411155999999995], [59.93025000000001, 30.411230999999997], [59.930224, 30.41115], [59.93140699999998, 30.410213000000002], [59.93149899999999, 30.410117], [59.931612, 30.409979], [59.932708, 30.408575], [59.93292199999998, 30.408297], [59.93295, 30.408382999999997], [59.93292199999998, 30.408297], [59.93359800000002, 30.407435999999997], [59.933751, 30.407257000000005], [59.933793, 30.407254999999996], [59.93388000000001, 30.407263999999998], [59.933923, 30.407278000000005], [59.93460099999999, 30.407504000000003], [59.935104000000024, 30.407671], [59.936207000000024, 30.408040000000003], [59.9362, 30.40812], [59.936207000000024, 30.408040000000003], [59.93630500000001, 30.408073000000005], [59.93662700000001, 30.408181], [59.93676400000002, 30.408231999999998], [59.93742599999999, 30.408447999999996], [59.93799100000001, 30.408518000000004], [59.94071499999999, 30.408708000000004], [59.94071300000001, 30.408799999999996], [59.94071499999999, 30.408708000000004], [59.94099199999999, 30.408726999999995], [59.94162100000001, 30.408771000000005], [59.94181900000001, 30.408761], [59.94217700000002, 30.408737], [59.94224800000001, 30.408726999999995], [59.942294999999994, 30.408695999999992], [59.942333, 30.408639000000004], [59.942389999999996, 30.408493999999994], [59.942389999999996, 30.408337], [59.942395, 30.408204000000005], [59.942467999999984, 30.407153999999995], [59.94252099999999, 30.407169], [59.942467999999984, 30.407153], [59.942585, 30.405518000000004], [59.942604, 30.405123999999997], [59.94261, 30.404835000000002], [59.94261199999999, 30.404752], [59.942616, 30.404190000000003], [59.94278699999998, 30.398213999999996], [59.942801999999986, 30.397987999999998], [59.94282799999999, 30.397556000000005], [59.942831, 30.397517999999998], [59.94284300000001, 30.397296], [59.942872, 30.396832], [59.94291199999999, 30.395480999999997], [59.942940000000014, 30.394461], [59.943039999999996, 30.394459999999995], [59.942940000000014, 30.394456000000005], [59.94294999999999, 30.394159], [59.942976, 30.393271], [59.94298799999999, 30.392924999999998], [59.94299099999998, 30.392728], [59.942980999999996, 30.39243], [59.94298000000001, 30.3921], [59.94298599999998, 30.391895000000005], [59.94300499999998, 30.391712000000002], [59.943046000000024, 30.391484000000002], [59.943066, 30.391362], [59.94312599999998, 30.391123999999994], [59.94321799999999, 30.390793], [59.943449, 30.390177999999995], [59.943656999999995, 30.389605000000003], [59.94399699999999, 30.388824], [59.944659000000016, 30.387484], [59.944778, 30.387248999999997], [59.94482999999999, 30.387140000000002], [59.944375999999984, 30.386239], [59.94442799999998, 30.386151], [59.944375999999984, 30.386240000000004], [59.94297899999999, 30.383428], [59.942523000000016, 30.382523999999997], [59.942191, 30.381851999999995], [59.942077000000005, 30.381575999999995], [59.941606, 30.380663], [59.94102299999999, 30.379562], [59.940783, 30.379149999999996], [59.940799999999996, 30.379099999999998], [59.94078, 30.379139], [59.940011000000005, 30.377703000000004], [59.93988500000002, 30.377455999999995], [59.93939700000002, 30.376599], [59.93883399999999, 30.375594999999997], [59.938692, 30.375345], [59.938448999999984, 30.37496], [59.938467999999986, 30.374908000000005], [59.938446, 30.37496], [59.93816800000002, 30.374571999999997], [59.938009, 30.374350999999997], [59.93781799999999, 30.374085], [59.93762499999998, 30.373903999999996], [59.937031000000005, 30.373238000000004], [59.936907, 30.373102999999997], [59.936775000000004, 30.372965], [59.93615899999999, 30.372328000000003], [59.93606700000001, 30.372233], [59.935969, 30.372126], [59.93523000000001, 30.371326], [59.935222, 30.371316999999998], [59.935088999999984, 30.371166000000002], [59.93504599999999, 30.371117000000005], [59.93490399999999, 30.370955999999996], [59.93494899999999, 30.370874999999998], [59.93490399999999, 30.370955999999996], [59.934830000000005, 30.370871999999995], [59.934534999999975, 30.370537], [59.93442000000001, 30.370404999999998], [59.93436499999999, 30.370342999999995], [59.933637999999995, 30.369514], [59.933575, 30.369442000000003], [59.93356599999999, 30.369432], [59.93348700000001, 30.369342], [59.933293000000006, 30.369118], [59.93316500000001, 30.368974], [59.933189, 30.368911999999998], [59.933169, 30.368975000000002], [59.9331, 30.368899], [59.93280399999998, 30.368562999999998], [59.93271699999998, 30.368463], [59.93262200000003, 30.368355000000005], [59.932153, 30.367822], [59.93205700000001, 30.367682000000002], [59.932037, 30.367642999999997], [59.93195700000001, 30.367415000000005], [59.93120999999998, 30.366509], [59.93069, 30.365839000000005], [59.930489000000016, 30.365573000000005], [59.930549, 30.365082], [59.93077199999999, 30.363301], [59.930776999999985, 30.363262000000002], [59.93078399999998, 30.363219], [59.930787999999986, 30.363198], [59.93082699999999, 30.363071], [59.93110799999999, 30.362165], [59.931126000000006, 30.362104], [59.931141, 30.362040000000004], [59.93115399999999, 30.361974], [59.931163000000005, 30.361906000000005], [59.93116999999999, 30.361837], [59.931174999999996, 30.361767000000004], [59.93117600000001, 30.361695999999995], [59.931174999999996, 30.361625999999998], [59.93115999999999, 30.361209], [59.931149, 30.360916], [59.931147000000024, 30.36086], [59.93114599999998, 30.360818999999992], [59.93114599999998, 30.360778000000007], [59.93114599999998, 30.360737999999998], [59.93114799999999, 30.360697000000002], [59.93115099999998, 30.360656999999996], [59.931155, 30.360616], [59.931159, 30.360576999999996], [59.93116400000002, 30.360539], [59.93123599999998, 30.359953999999995], [59.931365000000014, 30.358927], [59.931389, 30.358711999999997], [59.93147999999999, 30.358759999999993], [59.93139100000002, 30.358715000000004], [59.93147499999999, 30.358047999999997], [59.931509, 30.35778], [59.93155799999999, 30.357384], [59.931623000000016, 30.356869], [59.93167899999999, 30.35642], [59.931723000000005, 30.356068], [59.93173799999999, 30.355944], [59.93176799999999, 30.355705000000004], [59.931796999999996, 30.355475], [59.93197699999999, 30.354013999999996], [59.932005000000004, 30.353790000000004], [59.932156999999975, 30.352601], [59.932308, 30.351388], [59.93238999999999, 30.350738], [59.93250999999997, 30.349772], [59.93254799999998, 30.349466999999997], [59.93259499999999, 30.349096999999997], [59.93271300000001, 30.348155000000002], [59.93274499999999, 30.347894], [59.93278699999999, 30.347555000000003], [59.932847, 30.347073000000005], [59.932902999999975, 30.347099999999994], [59.932847, 30.347073000000005], [59.932861, 30.346961], [59.93288399999999, 30.346778000000004], [59.932902999999975, 30.346621], [59.932967999999995, 30.346099000000002], [59.933037999999975, 30.345535], [59.933193, 30.344271000000003], [59.933226999999995, 30.344014], [59.93323800000002, 30.343925], [59.933371999999984, 30.342848], [59.93338099999999, 30.342774], [59.93342200000001, 30.342447000000003], [59.933601999999986, 30.340999], [59.93388000000001, 30.338757999999995], [59.933949000000005, 30.338200000000004], [59.934039000000006, 30.337477999999997], [59.934051000000004, 30.337377], [59.93410300000001, 30.336958000000003], [59.93411200000001, 30.336892000000006], [59.934200000000004, 30.336936000000005], [59.93411200000001, 30.336892000000006], [59.93413699999997, 30.336691000000005], [59.93433099999999, 30.335125999999995], [59.93460299999999, 30.332931], [59.93472199999998, 30.331958000000004], [59.93490200000001, 30.330519000000002], [59.935041, 30.329387], [59.935184, 30.328233], [59.93521599999998, 30.327974], [59.935310000000015, 30.32802], [59.93521599999998, 30.327974], [59.935351000000004, 30.326872999999996], [59.935374, 30.326687], [59.93539100000001, 30.326550999999995], [59.93542399999999, 30.326284], [59.93543800000002, 30.326172], [59.93546499999999, 30.325952000000004], [59.93591400000001, 30.322307], [59.93595099999998, 30.322015999999998], [59.935969, 30.321867], [59.936019999999985, 30.321456000000005], [59.936109999999985, 30.3215], [59.936019999999985, 30.321456000000005], [59.936032999999995, 30.321349], [59.93619299999998, 30.32006], [59.936257, 30.319356000000003], [59.93626999999999, 30.319247], [59.93646599999999, 30.317599999999995], [59.936501, 30.317298], [59.93670599999998, 30.315537000000003], [59.93678800000001, 30.314838000000005], [59.93689900000002, 30.313899000000003], [59.93694200000001, 30.313537], [59.93697500000001, 30.313539], [59.936942999999985, 30.313524], [59.93702399999999, 30.312831999999997], [59.937038, 30.312719000000005], [59.937044, 30.312683], [59.93705199999997, 30.312654000000002], [59.93706099999999, 30.312628000000004], [59.93707100000001, 30.312602000000002], [59.93708299999998, 30.312577000000005], [59.937096000000004, 30.312554000000002], [59.93710899999999, 30.312533999999996], [59.93712400000002, 30.312517], [59.93713899999998, 30.312502000000002], [59.937155000000004, 30.312491], [59.937172, 30.312482000000003], [59.93718899999999, 30.312477], [59.93720599999999, 30.312474999999992], [59.93722299999998, 30.312476], [59.937238999999984, 30.31248], [59.937391000000005, 30.312533999999996], [59.93796200000002, 30.312734], [59.938008, 30.312746000000004], [59.93805799999999, 30.312748], [59.93810700000001, 30.312739], [59.938154999999995, 30.312721], [59.93820199999999, 30.312693], [59.938247, 30.312655000000003], [59.938289999999995, 30.312607999999997], [59.93832900000001, 30.312554999999996], [59.93861600000001, 30.312116], [59.939007, 30.311514999999996], [59.93917799999998, 30.311254], [59.93920599999999, 30.311328], [59.93917799999998, 30.311254], [59.93947199999999, 30.310803], [59.93989000000001, 30.310164000000004], [59.940018, 30.309968], [59.940093, 30.309853999999998], [59.94031899999999, 30.309512], [59.94214100000001, 30.306820999999996], [59.94235099999998, 30.306686], [59.942526, 30.306747], [59.942616, 30.306734], [59.94269499999998, 30.306728], [59.942772000000005, 30.306748], [59.942872, 30.30681], [59.942940000000014, 30.306729], [59.94312599999998, 30.306513000000002], [59.94322799999997, 30.306313], [59.943447999999975, 30.306220000000003], [59.943570999999984, 30.306135], [59.94369900000001, 30.306014999999995], [59.943864, 30.305821999999996], [59.944013, 30.305648000000005], [59.944093, 30.305549], [59.94412499999999, 30.305642], [59.944093, 30.305549], [59.944194, 30.305396999999996], [59.94437799999999, 30.304992999999993], [59.944436000000024, 30.304844999999993], [59.944730000000014, 30.304101], [59.94494899999999, 30.303545], [59.94499500000002, 30.303434999999997], [59.94503399999999, 30.303385000000002], [59.94507599999999, 30.303351999999997], [59.94521399999999, 30.303347000000002], [59.947352, 30.303619], [59.947420000000015, 30.303631999999993], [59.94750300000002, 30.303678], [59.947598999999975, 30.303769], [59.94766799999999, 30.303863], [59.94776199999999, 30.304021000000002], [59.94787700000001, 30.304242000000002], [59.94791599999999, 30.304325000000002], [59.94807600000001, 30.304604000000005], [59.948268000000006, 30.304884], [59.94832200000002, 30.304892999999993], [59.948706999999985, 30.304855], [59.94885099999999, 30.304836], [59.949136, 30.304796999999994], [59.94929199999997, 30.304776999999998], [59.94940400000002, 30.304761999999997], [59.949436999999996, 30.304761999999997], [59.949397, 30.303528000000004], [59.94939299999999, 30.303396000000003], [59.94938800000001, 30.303249], [59.94938699999997, 30.303041], [59.94938599999998, 30.302867], [59.94945, 30.302861000000004], [59.94938599999998, 30.302867], [59.94938399999999, 30.302127999999996], [59.949385, 30.301880999999998], [59.94938800000001, 30.301643999999996], [59.949409999999986, 30.301377999999996], [59.949436999999996, 30.301094999999993], [59.949473999999995, 30.300776000000003], [59.94955100000001, 30.300236], [59.949603, 30.299978000000003], [59.949651999999986, 30.299767999999997], [59.949726, 30.299455000000002], [59.94988000000001, 30.298932000000004], [59.95000199999999, 30.29853], [59.950139, 30.298044999999995], [59.95073200000001, 30.296152999999997], [59.951313, 30.294244999999997], [59.95177599999999, 30.292582999999997], [59.95180800000001, 30.292614], [59.951778999999995, 30.292573000000004], [59.95228199999999, 30.290795], [59.95242100000002, 30.290376], [59.952506, 30.290169], [59.952771, 30.289542000000004], [59.953153999999984, 30.288711], [59.953214, 30.288571999999995], [59.95389599999997, 30.287015], [59.95394400000001, 30.286912], [59.95432500000001, 30.286311999999995], [59.954494999999994, 30.286057], [59.95455799999998, 30.286225], [59.954494999999994, 30.286057], [59.955454, 30.284625999999996], [59.95653299999998, 30.282768], [59.956937, 30.282070999999995], [59.957505999999995, 30.280998], [59.95877599999997, 30.278584], [59.959034, 30.27805], [59.95907499999999, 30.278100000000002], [59.95903799999999, 30.278044], [59.95958600000001, 30.276871999999997], [59.959920999999994, 30.276040000000002], [59.96045800000001, 30.274498999999995], [59.96064799999999, 30.273950000000003], [59.96068300000001, 30.273988999999997], [59.96065700000001, 30.273936999999997], [59.960996, 30.272962000000003], [59.961327000000004, 30.271973000000006], [59.96121800000001, 30.271782999999996], [59.96111999999999, 30.271646999999998], [59.960904999999975, 30.271375], [59.960702, 30.271070999999996], [59.960698, 30.270833], [59.96070099999997, 30.270596000000005], [59.96069399999997, 30.270401000000003], [59.960670999999984, 30.270293000000002], [59.960636, 30.270195], [59.960368, 30.269896000000003], [59.960071999999975, 30.269598000000002], [59.95990400000001, 30.269421], [59.95973799999998, 30.269217], [59.959481, 30.268766999999997], [59.959409000000015, 30.269231999999995], [59.959397, 30.269226]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_29f3e19304f52a607b314ccca83a4a7a);
        
    
            var marker_89f68fc6cefded8586c0d3f104b4c9ea = L.marker(
                [59.923736999999996, 30.411316],
                {}
            ).addTo(map_29f3e19304f52a607b314ccca83a4a7a);

            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_29f3e19304f52a607b314ccca83a4a7a.getCenter().lat,
                lng: map_29f3e19304f52a607b314ccca83a4a7a.getCenter().lng,
                zoom: map_29f3e19304f52a607b314ccca83a4a7a.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_29f3e19304f52a607b314ccca83a4a7a.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_29f3e19304f52a607b314ccca83a4a7a.setView(marker_89f68fc6cefded8586c0d3f104b4c9ea.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_29f3e19304f52a607b314ccca83a4a7a.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_29f3e19304f52a607b314ccca83a4a7a.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_29f3e19304f52a607b314ccca83a4a7a.removeLayer(marker_89f68fc6cefded8586c0d3f104b4c9ea);
                }
                marker_89f68fc6cefded8586c0d3f104b4c9ea.setLatLng([lat, lon]);
                map_29f3e19304f52a607b314ccca83a4a7a.setView([lat, lon], size_zoom);
            }
        
            map_29f3e19304f52a607b314ccca83a4a7a.setView(marker_89f68fc6cefded8586c0d3f104b4c9ea.getLatLng(), size_zoom);
    
        var popup_4c57d34370fd40643daaa5840b1f60ae = L.popup({"maxWidth": "100%"});

        
            
                var html_60eb9f0ab5673bdab7b0a7d40bff5cf3 = $(`<div id="html_60eb9f0ab5673bdab7b0a7d40bff5cf3" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_4c57d34370fd40643daaa5840b1f60ae.setContent(html_60eb9f0ab5673bdab7b0a7d40bff5cf3);
            
        

        marker_89f68fc6cefded8586c0d3f104b4c9ea.bindPopup(popup_4c57d34370fd40643daaa5840b1f60ae)
        ;
        
    
</script>
</html>