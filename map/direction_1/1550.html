<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_804a420d011950d5c0b41a148072117a {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_804a420d011950d5c0b41a148072117a" ></div>
        
</body>
<script>
    
    
            var map_804a420d011950d5c0b41a148072117a = L.map(
                "map_804a420d011950d5c0b41a148072117a",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_34f889f535178e56c8aeaaf0ed5091f9 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_34f889f535178e56c8aeaaf0ed5091f9.addTo(map_804a420d011950d5c0b41a148072117a);
        
    
            var poly_line_98005b2a37e719c277700c9346562379 = L.polyline(
                [[60.01283499999998, 30.397367], [60.01281900000001, 30.397429999999993], [60.012783999999996, 30.397393], [60.012345, 30.396947], [60.010397, 30.394969000000003], [60.009989999999995, 30.394576000000004], [60.00963900000001, 30.394230999999998], [60.00946199999999, 30.394823], [60.00909200000001, 30.395982999999998], [60.00866500000002, 30.397311000000002], [60.00842600000002, 30.398090000000007], [60.008169999999986, 30.398900999999995], [60.00754500000002, 30.40087400000001], [60.00785699999998, 30.401267999999998], [60.00762099999998, 30.401959999999992], [60.007512999999996, 30.402302], [60.00736300000001, 30.402145], [60.00710999999999, 30.401902], [60.00701400000001, 30.401814000000005], [60.00703499999999, 30.401720000000008], [60.00701400000001, 30.401814000000005], [60.00678, 30.401601], [60.006575000000005, 30.401378], [60.006479000000006, 30.401285000000005], [60.0064, 30.401224000000003], [60.00626099999999, 30.401104], [60.006134999999986, 30.400967999999995], [60.00584899999999, 30.400672999999998], [60.005815, 30.400638000000004], [60.00556399999999, 30.400382999999998], [60.005202, 30.400018], [60.00487999999999, 30.399694000000004], [60.00453299999998, 30.399344], [60.00418199999999, 30.399], [60.003612999999994, 30.398417], [60.00351399999998, 30.398318], [60.003498, 30.398301], [60.00354699999998, 30.398106000000002], [60.003498, 30.398301], [60.00301300000002, 30.397812], [60.002835999999995, 30.397634000000004], [60.00268200000001, 30.397479], [60.00232400000001, 30.397117999999995], [60.001974000000004, 30.396765000000002], [60.001889, 30.39668], [60.00173000000001, 30.396519999999995], [60.00171399999999, 30.396503], [60.000430999999985, 30.395227], [60.000255, 30.395042], [60.00014399999999, 30.394926], [60.000034000000014, 30.394827999999997], [59.999892999999986, 30.394704000000004], [59.999798000000006, 30.394621], [59.99972599999999, 30.394561999999997], [59.99975700000001, 30.39441], [59.99972599999999, 30.394561999999997], [59.99971299999998, 30.394551], [59.99959699999997, 30.394468], [59.99941100000001, 30.394349], [59.994897, 30.391437999999997], [59.99479900000001, 30.391254999999997], [59.994599, 30.391107999999996], [59.99456, 30.391374], [59.994522, 30.391632], [59.99449199999999, 30.391925], [59.99447599999999, 30.392186999999993], [59.99447200000001, 30.392484], [59.99447200000001, 30.392502], [59.99436399999998, 30.392512000000004], [59.994484999999976, 30.393078], [59.994640999999994, 30.399565000000003], [59.99469100000001, 30.401643999999997], [59.994694, 30.401716], [59.994790999999985, 30.405953999999998], [59.994794999999975, 30.406447], [59.994790999999985, 30.406691999999996], [59.99465399999999, 30.409827], [59.99462800000001, 30.410359], [59.994477, 30.410886000000005], [59.99459599999999, 30.410915000000006], [59.99444999999999, 30.413252], [59.99421999999997, 30.416423], [59.99399300000002, 30.419508999999994], [59.993977000000015, 30.419725], [59.99393999999999, 30.420215], [59.993814, 30.420176999999995], [59.99393999999999, 30.420215], [59.993743, 30.422837999999995], [59.99368899999999, 30.423435000000005], [59.993638999999995, 30.423934000000003], [59.99355800000001, 30.424547], [59.993479, 30.42507], [59.993472, 30.425111], [59.99333599999999, 30.425017], [59.993472, 30.425111], [59.99341800000001, 30.42542], [59.993390000000005, 30.425577000000004], [59.99334000000001, 30.425841000000002], [59.99315300000001, 30.426735], [59.99304300000001, 30.427213000000002], [59.992951, 30.427598000000003], [59.992187999999985, 30.430684], [59.992172999999994, 30.430746999999997], [59.991956999999985, 30.431675], [59.991598999999994, 30.433291], [59.99146000000001, 30.433969000000005], [59.991302999999995, 30.43473], [59.99123599999997, 30.435084000000003], [59.991122, 30.435540000000003], [59.991036999999984, 30.435846], [59.99097400000002, 30.436057], [59.990919999999996, 30.43628], [59.990868999999954, 30.436516999999995], [59.99080299999998, 30.436874000000003], [59.990634, 30.437973], [59.99040099999999, 30.439385], [59.99030299999999, 30.439954], [59.99009300000002, 30.44112], [59.990066999999996, 30.441387000000006], [59.99006899999996, 30.441541999999995], [59.99008100000001, 30.441689999999998], [59.990115, 30.441858999999997], [59.99016700000001, 30.441989999999997], [59.990218999999996, 30.442099000000002], [59.99028899999998, 30.442172], [59.99037399999999, 30.442239], [59.99048400000001, 30.442272], [59.990519, 30.442282], [59.99056999999997, 30.442266], [59.99064799999998, 30.442183], [59.990707999999984, 30.442046], [59.99073799999999, 30.441883000000008], [59.99076199999999, 30.441724999999995], [59.99079999999998, 30.441210000000005], [59.99084499999999, 30.440901000000004], [59.990901999999984, 30.44033], [59.991032999999995, 30.439243999999995], [59.991192999999996, 30.437978000000005], [59.99133200000001, 30.436325], [59.99138, 30.435315000000003], [59.99154500000001, 30.434492999999993], [59.991680999999986, 30.434216000000003], [59.991860999999986, 30.434068], [59.991986000000004, 30.434086], [59.992251999999986, 30.434297000000004], [59.99305899999999, 30.435267000000003], [59.993452, 30.435699999999997], [59.993769, 30.436011000000004], [59.99437999999998, 30.436452], [59.994515999999976, 30.436559000000003], [59.995222999999996, 30.437277999999996], [59.99559800000001, 30.437709], [59.995905, 30.438064], [59.996343999999986, 30.438585], [59.99678899999997, 30.439073999999998], [59.99836399999999, 30.440717999999997], [60.001239, 30.443751999999996], [60.002432000000006, 30.445037], [60.00270399999999, 30.445329], [60.00307899999999, 30.445715], [60.00326199999999, 30.445909999999998], [60.00324399999999, 30.446185999999997], [60.003305000000005, 30.445952999999996], [60.00341, 30.446064000000003], [60.003996999999984, 30.446695000000002], [60.005083, 30.447836000000002], [60.005466999999996, 30.448244], [60.005416000000004, 30.448436999999995], [60.00559100000001, 30.448373999999998], [60.00664800000001, 30.449470999999996], [60.006748, 30.449571999999996], [60.006897, 30.449734000000003], [60.00888299999999, 30.451824999999996], [60.00938, 30.452349], [60.010097, 30.453090000000003], [60.010619999999975, 30.453644], [60.010801, 30.453837], [60.01138699999998, 30.454462], [60.01278700000001, 30.455920000000003], [60.012998, 30.456142], [60.01372899999998, 30.456912], [60.01415599999998, 30.457437999999996], [60.01543199999999, 30.458767000000005], [60.01667900000001, 30.460073999999995], [60.01705199999999, 30.460464000000005], [60.017905, 30.461380000000002], [60.01810999999997, 30.461601], [60.01895, 30.462470000000003], [60.020188999999995, 30.463779999999996], [60.020372, 30.463932], [60.02055899999998, 30.464071], [60.02068799999999, 30.464146000000003], [60.02085600000001, 30.464221999999996], [60.02083600000001, 30.464344000000004], [60.020808000000024, 30.464493999999995], [60.02078199999999, 30.464648999999998], [60.020614000000016, 30.465400999999996], [60.020515999999986, 30.465774999999997], [60.020388999999994, 30.466107], [60.019667, 30.467315], [60.01906100000001, 30.468294000000004], [60.01859700000001, 30.469027], [60.01527799999999, 30.474258], [60.01233599999999, 30.479049999999997], [60.01226799999998, 30.479161000000005], [60.01209999999999, 30.479436999999997], [60.012038, 30.479284999999997], [60.01209999999999, 30.479436999999997], [60.00972999999998, 30.483374], [60.00895400000002, 30.483812999999998], [60.008374999999994, 30.483877], [60.00678099999999, 30.483659999999997], [60.00712599999999, 30.485745], [60.007190999999985, 30.486273000000004], [60.00723399999999, 30.486909000000004], [60.00728099999999, 30.487204], [60.007297999999984, 30.487422000000002], [60.007304999999974, 30.487715000000005], [60.007297, 30.487814000000004], [60.007342999999985, 30.488121], [60.007408999999996, 30.488363], [60.00796999999999, 30.49021], [60.008599999999994, 30.492387999999995], [60.008980999999984, 30.493708], [60.00913499999999, 30.493942], [60.00928799999999, 30.49396], [60.00934699999998, 30.493885], [60.00930599999999, 30.493666999999995], [60.009341, 30.493456999999996]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_804a420d011950d5c0b41a148072117a);
        
    
            var marker_2ba3836e822cd6fbd1c59ea7f0296c89 = L.marker(
                [60.01283499999998, 30.397367],
                {}
            ).addTo(map_804a420d011950d5c0b41a148072117a);

            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_804a420d011950d5c0b41a148072117a.getCenter().lat,
                lng: map_804a420d011950d5c0b41a148072117a.getCenter().lng,
                zoom: map_804a420d011950d5c0b41a148072117a.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_804a420d011950d5c0b41a148072117a.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_804a420d011950d5c0b41a148072117a.setView(marker_2ba3836e822cd6fbd1c59ea7f0296c89.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_804a420d011950d5c0b41a148072117a.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_804a420d011950d5c0b41a148072117a.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_804a420d011950d5c0b41a148072117a.removeLayer(marker_2ba3836e822cd6fbd1c59ea7f0296c89);
                }
                marker_2ba3836e822cd6fbd1c59ea7f0296c89.setLatLng([lat, lon]);
                map_804a420d011950d5c0b41a148072117a.setView([lat, lon], size_zoom);
            }

            map_804a420d011950d5c0b41a148072117a.setView(marker_2ba3836e822cd6fbd1c59ea7f0296c89.getLatLng(), size_zoom);
        
    
        var popup_9321cfc86025114afb1984f7b95ff6e1 = L.popup({"maxWidth": "100%"});

        
            
                var html_095f18b756b35a2cb607ed4516a35046 = $(`<div id="html_095f18b756b35a2cb607ed4516a35046" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_9321cfc86025114afb1984f7b95ff6e1.setContent(html_095f18b756b35a2cb607ed4516a35046);
            
        

        marker_2ba3836e822cd6fbd1c59ea7f0296c89.bindPopup(popup_9321cfc86025114afb1984f7b95ff6e1)
        ;

        
    
</script>
</html>