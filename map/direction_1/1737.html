<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_b535c43ea3adfce8890bff2c21bd6692 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_b535c43ea3adfce8890bff2c21bd6692" ></div>
        
</body>
<script>
    
    
            var map_b535c43ea3adfce8890bff2c21bd6692 = L.map(
                "map_b535c43ea3adfce8890bff2c21bd6692",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_c343f46f05503f9a6a3fa8debaefd6b2 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_c343f46f05503f9a6a3fa8debaefd6b2.addTo(map_b535c43ea3adfce8890bff2c21bd6692);
        
    
            var poly_line_4d5e91557feab744a1d45ed752c5014a = L.polyline(
                [[59.98691800000001, 30.3038], [59.98691099999999, 30.303811000000007], [59.98685499999998, 30.303661000000005], [59.98675299999999, 30.303399999999996], [59.98665, 30.303134999999994], [59.98656, 30.302899000000004], [59.986597999999994, 30.302859999999995], [59.98670599999997, 30.302736999999997], [59.98684499999999, 30.30261], [59.986920999999995, 30.302548], [59.986998, 30.302494], [59.987058999999995, 30.302466000000006], [59.98716, 30.302434000000005], [59.987171000000025, 30.302567], [59.987159, 30.302428], [59.98739299999997, 30.302364], [59.987522999999975, 30.302329000000004], [59.98779900000001, 30.302288], [59.988647, 30.302166000000003], [59.98891599999998, 30.302129], [59.98902900000001, 30.302105], [59.989122999999985, 30.302072999999996], [59.989205, 30.302022999999995], [59.9893, 30.301958], [59.989416, 30.301871], [59.98954200000001, 30.301753], [59.98964800000002, 30.301627], [59.98972499999998, 30.301519000000003], [59.98981299999998, 30.301391000000002], [59.99001199999999, 30.301063], [59.99007, 30.300932999999997], [59.990126, 30.300785999999995], [59.99014399999997, 30.300728], [59.99020399999997, 30.300802000000004], [59.99014699999997, 30.300734], [59.990294000000006, 30.300129], [59.99052700000001, 30.299134000000002], [59.99055800000001, 30.299015999999998], [59.990591, 30.298935999999994], [59.99062999999997, 30.298857], [59.990687, 30.298776], [59.990745000000004, 30.29872], [59.99080400000001, 30.298684000000005], [59.990866, 30.298663000000005], [59.990932999999984, 30.298658], [59.99101200000002, 30.298671], [59.992340000000006, 30.299123999999996], [59.99538100000001, 30.300231999999998], [59.995666, 30.300344000000003], [59.99586, 30.30039], [59.996027, 30.300408], [59.996235999999996, 30.300399999999996], [59.996504999999964, 30.300333999999996], [59.99816699999998, 30.299786999999995], [59.99832, 30.299774000000003], [59.99831700000001, 30.299737999999998], [59.99838100000001, 30.299716999999998], [59.998618000000015, 30.29964], [59.99866999999999, 30.299623000000004], [59.99889599999999, 30.299549000000003], [59.99895400000001, 30.299531], [59.999549, 30.299336999999998], [60.00008499999999, 30.299151000000002], [60.00036899999999, 30.299053], [60.00059199999997, 30.298966], [60.000770000000024, 30.298897], [60.00098299999996, 30.298821999999998], [60.00155299999998, 30.298620999999997], [60.00202099999999, 30.298456], [60.00245999999999, 30.298301], [60.00265399999999, 30.298233000000003], [60.002859000000015, 30.298161], [60.00308600000001, 30.298082000000004], [60.00341899999997, 30.297965], [60.00356700000002, 30.297909], [60.003990000000016, 30.297748999999996], [60.00400900000001, 30.297953000000003], [60.003990000000016, 30.297748999999996], [60.004548, 30.297538000000003], [60.004746999999995, 30.297447999999996], [60.00481099999999, 30.297425999999998], [60.005803, 30.297079999999998], [60.005894999999995, 30.297047999999997], [60.006094999999966, 30.296980999999995], [60.006236999999985, 30.296934], [60.006516999999995, 30.296838], [60.00690800000002, 30.296706], [60.00729999999999, 30.296575000000004], [60.007559, 30.296495], [60.00760799999999, 30.296478999999998], [60.00830399999998, 30.296249000000003], [60.00886699999999, 30.296064], [60.009089, 30.295991], [60.009191, 30.295957000000005], [60.00934500000001, 30.295906], [60.00938699999996, 30.295547], [60.00944599999996, 30.295089], [60.00950199999998, 30.294660999999998], [60.00953400000003, 30.294413], [60.00960699999997, 30.294451], [60.00953400000003, 30.294413], [60.00961300000001, 30.293802999999997], [60.00973499999999, 30.292854999999996], [60.00993700000001, 30.291294999999998], [60.010018999999986, 30.290662000000005], [60.01004199999999, 30.290486000000005], [60.010055, 30.290381], [60.01007099999998, 30.290258], [60.01007999999999, 30.290193], [60.010169999999995, 30.290239999999997], [60.01007999999999, 30.290193], [60.010189, 30.289347999999997], [60.010285999999994, 30.288596999999996], [60.010293, 30.288547000000005], [60.01034900000001, 30.288113], [60.01048599999999, 30.287055000000002], [60.01052999999999, 30.286711999999998], [60.01056700000001, 30.286430999999993], [60.010602, 30.286154000000003], [60.01076100000002, 30.284927000000003], [60.010801999999984, 30.284610000000004], [60.010837999999985, 30.284336], [60.01086599999998, 30.284119000000004], [60.010891000000015, 30.283923999999992], [60.01097200000001, 30.283966000000003], [60.010891000000015, 30.283923999999992], [60.010901, 30.283846], [60.01104599999999, 30.282723000000004], [60.01106, 30.282617], [60.011168999999995, 30.281776], [60.011372000000016, 30.280209], [60.01151599999998, 30.279094999999998], [60.01159200000002, 30.278507999999995], [60.011618999999996, 30.278295], [60.01169400000002, 30.278078], [60.01191900000001, 30.276456], [60.011951, 30.276226], [60.01203599999999, 30.275768000000003], [60.012117, 30.275331999999995], [60.01213700000001, 30.275177], [60.01221099999999, 30.274656], [60.01228499999999, 30.274689], [60.01220599999999, 30.274647000000005], [60.01231900000002, 30.273779], [60.01251100000002, 30.272311999999992], [60.01284999999999, 30.269709999999996], [60.012862000000005, 30.269611], [60.01299999999997, 30.268553000000004], [60.01305300000002, 30.268148999999998], [60.01308799999999, 30.267881], [60.01308999999999, 30.267864999999997], [60.013178999999994, 30.267912000000003], [60.01308999999999, 30.267864999999997], [60.01323199999998, 30.266776], [60.013482, 30.264858000000007], [60.01350600000001, 30.264661000000004], [60.013546999999996, 30.264353], [60.01359199999999, 30.263996], [60.01364399999999, 30.263634], [60.01367299999999, 30.263445000000004], [60.013707000000004, 30.263280000000005], [60.01376799999999, 30.263102], [60.01387400000001, 30.262953], [60.013896999999986, 30.262926], [60.013938999999986, 30.263071999999998], [60.01390100000002, 30.262932], [60.013985999999974, 30.262823999999995], [60.014051999999985, 30.262748], [60.015125, 30.261513999999995], [60.015212000000005, 30.261422], [60.015313, 30.261302000000004], [60.01543100000001, 30.261161999999995], [60.01545999999999, 30.26126], [60.01543100000001, 30.261161999999995], [60.018732, 30.257247999999993], [60.018881999999984, 30.25707], [60.019097, 30.256816], [60.019244999999984, 30.256637999999995], [60.01935400000002, 30.256511999999997], [60.019381, 30.256481000000004], [60.01943, 30.256648000000002], [60.019381, 30.256481000000004], [60.019717, 30.256084], [60.019776, 30.256013], [60.021058, 30.254496999999997], [60.021342, 30.254162], [60.022501999999996, 30.25279], [60.02269999999998, 30.252563000000002], [60.02273199999998, 30.252668], [60.02269899999998, 30.252556999999996], [60.02340100000002, 30.251728000000004], [60.02471100000001, 30.25018], [60.02481500000001, 30.250058000000003], [60.02491700000001, 30.249940000000002], [60.02500099999999, 30.249842], [60.025178, 30.249633999999997], [60.025209, 30.24974], [60.025182000000015, 30.249648999999998], [60.025251, 30.249547000000003], [60.025504999999995, 30.249239000000003], [60.02582699999999, 30.248862], [60.025864, 30.248628999999998], [60.025902000000016, 30.248300000000004], [60.02596499999998, 30.247853], [60.02619399999998, 30.246032999999997], [60.026234999999986, 30.245686999999997], [60.026261000000005, 30.245477999999995], [60.02628000000001, 30.245313], [60.026303999999996, 30.245118000000005], [60.026329, 30.244905999999997], [60.02638700000002, 30.244926000000003], [60.026333999999984, 30.244901], [60.026406999999985, 30.244297000000003], [60.026449, 30.243821000000004], [60.026437, 30.243557000000003], [60.02643599999998, 30.243541], [60.026421000000006, 30.243267], [60.02638599999999, 30.243032], [60.026329, 30.242765], [60.026205999999995, 30.242304], [60.02560600000001, 30.240257999999997], [60.025393000000015, 30.239557999999995], [60.025338, 30.239369], [60.025267, 30.239110000000004], [60.025372, 30.238984000000002], [60.025434, 30.238907999999995], [60.025441999999984, 30.238933999999997], [60.025434, 30.238907999999995], [60.025434999999995, 30.238907], [60.025731999999984, 30.238553999999997], [60.025907000000004, 30.238347000000008], [60.02614500000001, 30.238069999999997], [60.02655399999999, 30.237611], [60.026636, 30.237512], [60.02693900000002, 30.237154], [60.027707, 30.236246999999995], [60.02791500000001, 30.236009000000003], [60.02784400000001, 30.235774000000003], [60.02773099999999, 30.235361], [60.027682000000006, 30.235194], [60.027585, 30.234866999999998], [60.02764799999999, 30.234792], [60.027585, 30.234866999999998], [60.027238999999994, 30.233704], [60.02681699999998, 30.232360000000003], [60.02665599999996, 30.231900999999997], [60.026452, 30.231382999999997], [60.025411999999996, 30.228809000000002], [60.02530800000001, 30.228552], [60.025466000000016, 30.228181], [60.025587000000016, 30.227868], [60.02566500000001, 30.228004], [60.02559, 30.227869000000002], [60.025714, 30.227578999999995], [60.02621000000001, 30.226291], [60.026846000000006, 30.224676], [60.026897000000005, 30.224546999999998], [60.02705599999998, 30.224144999999996], [60.02737500000001, 30.223328], [60.02745000000002, 30.223463], [60.027377000000016, 30.223333], [60.02790599999999, 30.221988], [60.028822000000005, 30.219664000000005], [60.02960100000001, 30.217687999999995], [60.029709, 30.217402], [60.02953499999998, 30.217141000000005], [60.02940600000002, 30.216917999999996], [60.02933199999999, 30.216807], [60.029312000000004, 30.216777], [60.02933899999997, 30.216707], [60.029312000000004, 30.216777], [60.029049000000015, 30.216374], [60.02893, 30.216183000000004], [60.02886200000001, 30.216062], [60.028770999999985, 30.215858], [60.02866100000001, 30.215544999999995], [60.02859099999998, 30.215311], [60.02855499999998, 30.215149000000004], [60.02851999999998, 30.214932], [60.028504, 30.214694], [60.02848800000001, 30.214235], [60.02843899999999, 30.213204], [60.02843199999998, 30.212978], [60.02842600000002, 30.212792999999998], [60.028419999999976, 30.212647], [60.02847800000001, 30.212637999999995], [60.028419999999976, 30.212647], [60.028402, 30.212188], [60.02839699999997, 30.212064000000005], [60.028391000000006, 30.211815], [60.02837, 30.211568000000003], [60.028310999999995, 30.211170000000003], [60.02824600000002, 30.210911999999997], [60.02836200000002, 30.210572999999997], [60.02835300000001, 30.21043], [60.02810100000001, 30.209933], [60.02803600000001, 30.209928000000005], [60.027936999999994, 30.210071], [60.027907000000006, 30.210181], [60.027894999999994, 30.210162999999998], [60.02789600000001, 30.210162]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_b535c43ea3adfce8890bff2c21bd6692);
        
    
            var marker_ecc32985240470dce7b33382c73cf4f1 = L.marker(
                [59.98691800000001, 30.3038],
                {}
            ).addTo(map_b535c43ea3adfce8890bff2c21bd6692);

            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_b535c43ea3adfce8890bff2c21bd6692.getCenter().lat,
                lng: map_b535c43ea3adfce8890bff2c21bd6692.getCenter().lng,
                zoom: map_b535c43ea3adfce8890bff2c21bd6692.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_b535c43ea3adfce8890bff2c21bd6692.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_b535c43ea3adfce8890bff2c21bd6692.setView(marker_ecc32985240470dce7b33382c73cf4f1.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_b535c43ea3adfce8890bff2c21bd6692.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_b535c43ea3adfce8890bff2c21bd6692.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_b535c43ea3adfce8890bff2c21bd6692.removeLayer(marker_ecc32985240470dce7b33382c73cf4f1);
                }
                marker_ecc32985240470dce7b33382c73cf4f1.setLatLng([lat, lon]);
                map_b535c43ea3adfce8890bff2c21bd6692.setView([lat, lon], size_zoom);
            }

            map_b535c43ea3adfce8890bff2c21bd6692.setView(marker_ecc32985240470dce7b33382c73cf4f1.getLatLng(), size_zoom);
        
    
        var popup_915502cbbf314edc9ec3e4514db40d50 = L.popup({"maxWidth": "100%"});

        
            
                var html_7bbfef231fe9bdaded6c1b3f9fdcf8e1 = $(`<div id="html_7bbfef231fe9bdaded6c1b3f9fdcf8e1" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_915502cbbf314edc9ec3e4514db40d50.setContent(html_7bbfef231fe9bdaded6c1b3f9fdcf8e1);
            
        

        marker_ecc32985240470dce7b33382c73cf4f1.bindPopup(popup_915502cbbf314edc9ec3e4514db40d50)
        ;

        
    
</script>
</html>