<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_6cd75814411fee1793604a3b28119b5e {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_6cd75814411fee1793604a3b28119b5e" ></div>
        
</body>
<script>
    
    
            var map_6cd75814411fee1793604a3b28119b5e = L.map(
                "map_6cd75814411fee1793604a3b28119b5e",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_7513e42f427b4019b482d9be2faf94c6 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_7513e42f427b4019b482d9be2faf94c6.addTo(map_6cd75814411fee1793604a3b28119b5e);
        
    
            var poly_line_a68209d66e42e62eeb0a28c7523f3571 = L.polyline(
                [[59.93236999999998, 30.29644], [59.93241499999999, 30.296385999999995], [59.93261699999999, 30.297058], [59.932828, 30.297764999999995], [59.93304900000001, 30.298505], [59.933056999999984, 30.298533], [59.93299999999999, 30.298600000000004], [59.933056999999984, 30.298533], [59.93308999999999, 30.298644], [59.933554999999984, 30.300201999999995], [59.93358400000001, 30.300300000000004], [59.93353499999998, 30.300358], [59.933175999999996, 30.300773000000003], [59.93310100000001, 30.300859], [59.93313999999999, 30.300993000000002], [59.93325700000001, 30.301377999999996], [59.93326900000002, 30.301416], [59.933858, 30.303434999999997], [59.933811999999996, 30.303479000000003], [59.933857, 30.303431000000003], [59.93401599999999, 30.303978000000004], [59.93411900000002, 30.304199], [59.93400299999999, 30.304394000000002], [59.933776999999985, 30.304809999999996], [59.933445999999996, 30.305362], [59.93332, 30.305655999999995], [59.933263999999994, 30.305802999999997], [59.93326099999998, 30.305808999999996], [59.93325899999999, 30.306024], [59.933266, 30.306166000000005], [59.933314999999986, 30.306337], [59.93378099999999, 30.307926000000002], [59.93383500000001, 30.308059999999998], [59.93397000000001, 30.308374999999998], [59.93398200000001, 30.308409999999995], [59.93421600000001, 30.309067], [59.93431300000001, 30.309336], [59.934439000000005, 30.30969], [59.934411, 30.309745000000003], [59.934438, 30.309687], [59.93470400000001, 30.310414], [59.93489999999999, 30.310957], [59.935137, 30.311613000000005], [59.93520500000001, 30.311802], [59.935242, 30.311894], [59.935261, 30.311941], [59.93531099999999, 30.312079], [59.93532200000001, 30.312110999999998], [59.935755999999984, 30.313302999999998], [59.93600899999999, 30.314007], [59.93611399999999, 30.314299999999996], [59.936097000000004, 30.314344000000002], [59.93611899999998, 30.314313000000002], [59.936252, 30.31468], [59.936308, 30.314836], [59.936327, 30.314883], [59.936348, 30.314919000000003], [59.936373000000025, 30.314949999999996], [59.93644100000001, 30.315009], [59.93659099999999, 30.315128], [59.936665000000005, 30.315188999999997], [59.93642100000001, 30.31726], [59.93638099999998, 30.317607999999996], [59.93618699999998, 30.319208000000003], [59.93617499999999, 30.319312], [59.936162, 30.319413999999995], [59.93608999999999, 30.319908], [59.936077, 30.320012000000002], [59.93599099999999, 30.320707000000002], [59.935866000000004, 30.321721000000004], [59.93585500000001, 30.321811999999998], [59.935827, 30.322044], [59.93582200000001, 30.322082999999996], [59.93573699999998, 30.322768000000003], [59.93564699999999, 30.323506], [59.93558500000001, 30.324002999999998], [59.935497999999995, 30.324710000000003], [59.93544399999997, 30.324683], [59.93549999999999, 30.324708], [59.935351000000004, 30.325897], [59.935312999999994, 30.326209999999996], [59.935285, 30.326436], [59.935258999999995, 30.326645000000003], [59.93523200000001, 30.326853999999997], [59.93495599999999, 30.329090000000008], [59.934817, 30.330222000000003], [59.93476100000001, 30.330657999999996], [59.934616999999996, 30.331833999999997], [59.93456099999998, 30.332289999999997], [59.93454899999998, 30.332392], [59.934496, 30.332366000000004], [59.93454899999998, 30.332392], [59.93448499999998, 30.332907000000002], [59.934366000000004, 30.333892999999996], [59.934280000000015, 30.334602999999998], [59.934221999999984, 30.335036], [59.93421800000003, 30.33507], [59.934213, 30.335105], [59.934053000000006, 30.336399999999998], [59.933895, 30.337664999999998], [59.933845000000005, 30.338061], [59.933778999999994, 30.338606], [59.933751, 30.338825], [59.933700000000016, 30.338800000000003], [59.933751, 30.338825], [59.93371200000001, 30.339138], [59.93349499999999, 30.340889999999995], [59.933309000000015, 30.342386999999995], [59.93326799999998, 30.342713000000007], [59.93324399999999, 30.342905], [59.93312700000001, 30.343826000000004], [59.933113000000006, 30.343946999999996], [59.933080000000004, 30.344213], [59.93284200000001, 30.346134000000003], [59.93275400000002, 30.346846], [59.932668, 30.347543], [59.93262700000001, 30.347872000000002], [59.93259499999999, 30.348135], [59.93252100000001, 30.348728], [59.93247600000001, 30.348706], [59.93252100000001, 30.348728], [59.932464999999986, 30.349174999999995], [59.93242699999998, 30.349483], [59.93238899999999, 30.349786999999996], [59.932086, 30.352221], [59.93201, 30.352831], [59.93193699999999, 30.353415000000002], [59.931898999999994, 30.353733], [59.93187099999998, 30.353953], [59.931840999999984, 30.354194999999997], [59.931797999999986, 30.354535999999996], [59.93168, 30.355483000000003], [59.93165900000001, 30.355648000000002], [59.93162899999999, 30.355885], [59.931536999999985, 30.356625000000005], [59.931503, 30.356608], [59.931536999999985, 30.356625000000005], [59.931521000000004, 30.356755], [59.93147299999998, 30.357134999999996], [59.93143899999999, 30.357408], [59.93135100000001, 30.358116999999996], [59.931168, 30.359585999999997], [59.93105400000001, 30.360484], [59.931026000000024, 30.360638999999995], [59.93096700000002, 30.360827000000004], [59.930899000000004, 30.361081], [59.930797000000005, 30.361499999999996], [59.93076699999998, 30.361653000000008], [59.93075, 30.361789], [59.930735999999996, 30.361931], [59.93075200000001, 30.362214], [59.93073899999998, 30.362994], [59.930733999999994, 30.363110999999996], [59.930714999999985, 30.363273], [59.930493, 30.365054000000004], [59.93043000000001, 30.365557000000003], [59.930473000000006, 30.365689000000003], [59.930619000000014, 30.365918000000004], [59.93065399999996, 30.36596], [59.931188000000006, 30.366604000000002], [59.93192999999998, 30.367502], [59.93200700000001, 30.367733999999995], [59.93202499999999, 30.367771999999995], [59.932126, 30.367907999999996], [59.932334000000004, 30.368145], [59.93235700000001, 30.36817], [59.932345, 30.368213], [59.93236299999999, 30.368177], [59.932596999999994, 30.368433999999997], [59.93268999999999, 30.368539], [59.93278100000002, 30.36864], [59.933207, 30.369116], [59.93346300000002, 30.369404000000007], [59.93354400000001, 30.369494], [59.93362200000001, 30.369580999999997], [59.933685000000004, 30.369652], [59.933883999999985, 30.369884], [59.933873999999975, 30.369900999999995], [59.93388700000001, 30.369887], [59.934034000000004, 30.370045], [59.934342, 30.370391999999995], [59.93440199999999, 30.370458], [59.93452, 30.370591000000005], [59.93507399999999, 30.371212000000003], [59.935137, 30.371282], [59.93521500000002, 30.371371], [59.935280000000006, 30.371440000000003], [59.936052000000004, 30.372277000000004], [59.936144000000006, 30.372374000000004], [59.936748999999985, 30.373032], [59.93700800000001, 30.373319000000002], [59.93759899999997, 30.374001000000003], [59.937776999999976, 30.374222999999997], [59.93797999999999, 30.374511000000002], [59.93823799999999, 30.37491], [59.93820199999999, 30.375], [59.938235000000006, 30.37491], [59.93868299999999, 30.375610999999996], [59.939121, 30.376366], [59.939954999999976, 30.377885000000003], [59.940153, 30.378222999999995], [59.941128, 30.380042], [59.9411, 30.3801], [59.94113, 30.380037000000005], [59.94199999999999, 30.381739999999997], [59.94301899999997, 30.383806000000003], [59.942973999999985, 30.383909], [59.943023000000004, 30.383804], [59.944136, 30.385985], [59.94408499999998, 30.386075999999996], [59.944138999999986, 30.385979000000003], [59.94464000000001, 30.386982], [59.94478099999997, 30.387227999999997], [59.944952, 30.387564000000005], [59.94512499999998, 30.387904999999996], [59.945848000000005, 30.389328000000003], [59.94588199999999, 30.389431000000002], [59.94590000000001, 30.389535999999996], [59.94588100000001, 30.390059000000004], [59.94586, 30.390215], [59.945821, 30.390308000000005], [59.94573499999999, 30.390319], [59.944838000000004, 30.390264999999996], [59.94475899999999, 30.390268], [59.944692999999994, 30.390287], [59.94463200000001, 30.390372000000003], [59.944496999999984, 30.390699], [59.944389000000015, 30.390953], [59.944308, 30.391127999999995], [59.944219000000004, 30.391274999999997], [59.943887999999994, 30.391645000000004], [59.94371099999999, 30.391828], [59.943696999999986, 30.391775999999997], [59.94371, 30.391829999999995], [59.94338500000001, 30.392143999999995], [59.94330799999997, 30.392226], [59.94326299999998, 30.39223], [59.94311399999998, 30.392164999999995], [59.94307700000001, 30.392137], [59.943044, 30.392093000000003], [59.94301699999998, 30.392036], [59.942996, 30.391968999999996], [59.94298399999996, 30.391894000000004], [59.942999000000015, 30.391744999999997], [59.94305099999999, 30.391442999999995], [59.943087000000006, 30.391291], [59.943068000000004, 30.391267000000003], [59.94308600000001, 30.39128]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_6cd75814411fee1793604a3b28119b5e);
        
    
            var marker_d464cd3fbd95d17ae21085a867327d4d = L.marker(
                [59.93236999999998, 30.29644],
                {}
            ).addTo(map_6cd75814411fee1793604a3b28119b5e);

            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_6cd75814411fee1793604a3b28119b5e.getCenter().lat,
                lng: map_6cd75814411fee1793604a3b28119b5e.getCenter().lng,
                zoom: map_6cd75814411fee1793604a3b28119b5e.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_6cd75814411fee1793604a3b28119b5e.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_6cd75814411fee1793604a3b28119b5e.setView(marker_d464cd3fbd95d17ae21085a867327d4d.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_6cd75814411fee1793604a3b28119b5e.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_6cd75814411fee1793604a3b28119b5e.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_6cd75814411fee1793604a3b28119b5e.removeLayer(marker_d464cd3fbd95d17ae21085a867327d4d);
                }
                marker_d464cd3fbd95d17ae21085a867327d4d.setLatLng([lat, lon]);
                map_6cd75814411fee1793604a3b28119b5e.setView([lat, lon], size_zoom);
            }

            map_6cd75814411fee1793604a3b28119b5e.setView(marker_d464cd3fbd95d17ae21085a867327d4d.getLatLng(), size_zoom);
        
    
        var popup_7df932cdab5adeb187963f72d35980ed = L.popup({"maxWidth": "100%"});

        
            
                var html_043fcadfca1236e31c5cf6180e7ac16c = $(`<div id="html_043fcadfca1236e31c5cf6180e7ac16c" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_7df932cdab5adeb187963f72d35980ed.setContent(html_043fcadfca1236e31c5cf6180e7ac16c);
            
        

        marker_d464cd3fbd95d17ae21085a867327d4d.bindPopup(popup_7df932cdab5adeb187963f72d35980ed)
        ;

        
    
</script>
</html>