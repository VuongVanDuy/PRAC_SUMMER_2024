<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_b07f8ac743b610bc184d3953993b3599 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_b07f8ac743b610bc184d3953993b3599" ></div>
        
</body>
<script>
    
    
            var map_b07f8ac743b610bc184d3953993b3599 = L.map(
                "map_b07f8ac743b610bc184d3953993b3599",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_dd35d2d469d94703b4db044ae529cea9 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_dd35d2d469d94703b4db044ae529cea9.addTo(map_b07f8ac743b610bc184d3953993b3599);
        
    
            var poly_line_d9aeb91b3bb82b2418f05cd9b968577a = L.polyline(
                [[59.961261999999984, 30.292685999999996], [59.961159000000016, 30.29247], [59.961333999999994, 30.292137], [59.961501999999996, 30.291818999999997], [59.96161999999999, 30.29202099999999], [59.962028999999994, 30.292716000000002], [59.96239499999999, 30.293336000000004], [59.962610000000005, 30.293678999999997], [59.96289699999999, 30.294154], [59.96306599999999, 30.294435999999997], [59.96321099999999, 30.29468], [59.96343599999999, 30.295054000000004], [59.96364199999997, 30.295404], [59.96371400000002, 30.295517], [59.96417199999999, 30.296242], [59.96424099999998, 30.296350999999998], [59.964907, 30.297404], [59.96458199999998, 30.298234999999995], [59.96457600000001, 30.298248000000008], [59.964495, 30.298121], [59.96457600000001, 30.298248000000008], [59.964303, 30.298946], [59.96423300000001, 30.299128], [59.96325799999999, 30.301678], [59.96295299999999, 30.302473999999997], [59.96231799999998, 30.304135], [59.96220499999997, 30.304430999999997], [59.96198300000001, 30.304998000000005], [59.961902, 30.304872000000003], [59.96198300000001, 30.304998000000005], [59.96177700000001, 30.305523999999995], [59.961741, 30.305616000000004], [59.961572999999994, 30.306043999999996], [59.96153999999999, 30.306127999999998], [59.961083999999985, 30.307289000000004], [59.96105799999998, 30.307348], [59.961348999999984, 30.307816], [59.96143400000001, 30.307946], [59.961457000000024, 30.307984000000005], [59.96142900000001, 30.308050000000005], [59.961457000000024, 30.307984000000005], [59.96161499999999, 30.308248], [59.96187299999999, 30.308662999999996], [59.96229799999999, 30.309382000000003], [59.962358, 30.309468], [59.96259799999998, 30.309819], [59.963819, 30.311793], [59.96386999999999, 30.311874000000003], [59.96412999999997, 30.312256], [59.963918000000014, 30.311972], [59.96412999999997, 30.312256], [59.96442999999999, 30.312697], [59.964487999999996, 30.312785000000005], [59.964552999999995, 30.312882], [59.965223999999964, 30.312240999999997], [59.96559200000001, 30.312314], [59.96566699999999, 30.312330000000003], [59.965864, 30.312412999999996], [59.96591900000001, 30.312478000000002], [59.96593799999999, 30.312506999999997], [59.96598099999999, 30.312577000000005], [59.96609400000001, 30.312777], [59.966236, 30.313012], [59.96626799999997, 30.313062], [59.966191999999985, 30.313251000000005], [59.96626799999997, 30.313062], [59.966370000000005, 30.313225999999997], [59.96652399999998, 30.313426999999997], [59.966593000000024, 30.313495000000003], [59.966709, 30.313573000000005], [59.96691100000001, 30.313684], [59.96770699999999, 30.314076], [59.967749999999995, 30.314096000000006], [59.967768000000014, 30.314103999999997], [59.96778799999998, 30.314112000000005], [59.96785899999999, 30.314143000000005], [59.96800500000001, 30.314207], [59.96812899999999, 30.314248], [59.96822999999999, 30.314277], [59.96828800000001, 30.314288], [59.96837799999998, 30.314294000000004], [59.968817000000016, 30.314260000000004], [59.968819000000025, 30.314345000000003], [59.968817000000016, 30.314260000000004], [59.969064, 30.314242000000004], [59.96991899999998, 30.314167], [59.970108, 30.314183], [59.970916999999986, 30.314427000000002], [59.970981999999985, 30.314465000000002], [59.971116000000016, 30.314568], [59.971256999999994, 30.314673], [59.971419999999995, 30.314786000000005], [59.97138499999999, 30.314991000000003], [59.971419999999995, 30.314786000000005], [59.97488600000001, 30.31717099999999], [59.975056, 30.317290999999997], [59.97508200000001, 30.317311], [59.97506199999999, 30.317416], [59.97508200000001, 30.317311], [59.975691999999995, 30.317778000000004], [59.975840000000005, 30.317895], [59.97599700000001, 30.318017], [59.976136000000004, 30.318139], [59.976163999999976, 30.318165999999998], [59.97632699999999, 30.318321], [59.976508999999986, 30.318532], [59.97668800000001, 30.318748999999997], [59.976842999999995, 30.318958], [59.97700800000001, 30.319199999999995], [59.97715599999999, 30.319437000000004], [59.977285, 30.319656], [59.97743999999999, 30.319940999999996], [59.977469, 30.319994999999995], [59.978433999999986, 30.321835], [59.97936800000001, 30.323687000000003], [59.979457, 30.323864000000004], [59.979617, 30.324181000000003], [59.980593999999996, 30.326395999999992], [59.980854999999984, 30.326966], [59.98150400000001, 30.328434999999995], [59.98143600000001, 30.328555], [59.98150400000001, 30.328434999999995], [59.981561, 30.328563000000003], [59.982220000000005, 30.330053999999997], [59.98274899999998, 30.331250999999998], [59.982898999999996, 30.331596000000005], [59.982821000000015, 30.331731], [59.982898999999996, 30.331596000000005], [59.98299799999998, 30.331824], [59.983274999999985, 30.332440999999996], [59.983757000000004, 30.333532], [59.983886000000005, 30.333859000000004], [59.98409300000001, 30.334454999999995], [59.984207000000005, 30.334835999999996], [59.98427499999999, 30.335106999999997], [59.984309, 30.33532900000001], [59.98433900000002, 30.335566000000004], [59.98438999999999, 30.33608], [59.98432699999999, 30.335967], [59.98438999999999, 30.33608], [59.984510999999955, 30.337297], [59.98461899999999, 30.338389999999997], [59.984858, 30.340742999999993], [59.984974, 30.341884999999998], [59.985008999999984, 30.342264000000007], [59.985102000000005, 30.34327], [59.985206000000005, 30.344265000000004], [59.98514000000001, 30.343988000000003], [59.985206999999974, 30.344273000000005], [59.98534300000001, 30.345654999999997], [59.985673, 30.348954], [59.985745, 30.349684], [59.98569499999997, 30.349689999999995], [59.985748, 30.349753], [59.985980999999995, 30.352228999999998], [59.986272, 30.355345], [59.986165000000014, 30.355351000000002], [59.98627, 30.355311999999998], [59.98629399999999, 30.355569], [59.98641100000002, 30.356834], [59.98648399999999, 30.357624], [59.98649200000001, 30.357733], [59.986515, 30.358063], [59.98653000000001, 30.358608], [59.986489, 30.359319], [59.986421, 30.359906999999996], [59.986356, 30.360296], [59.98612999999999, 30.361706], [59.98590099999997, 30.362838999999997], [59.98568999999998, 30.363631], [59.98540799999999, 30.364474], [59.985194000000014, 30.365069000000002], [59.985102999999974, 30.365335], [59.984585000000024, 30.366618], [59.985102999999974, 30.365335], [59.98498899999998, 30.365667], [59.983148000000014, 30.371022999999997], [59.98226500000001, 30.373594], [59.981216999999994, 30.376671], [59.981066, 30.377103], [59.98098300000001, 30.376988000000008], [59.981066, 30.377103], [59.980692999999995, 30.378171999999996], [59.98018499999998, 30.379647], [59.979814000000005, 30.380717], [59.97971499999999, 30.381001], [59.979347, 30.382053999999997], [59.979262, 30.382303999999998], [59.979155999999996, 30.382609], [59.97901199999998, 30.383037000000005], [59.97898599999999, 30.383001999999998], [59.979016, 30.383038000000003], [59.978963, 30.383214999999993], [59.978706999999986, 30.384075999999997], [59.97842800000001, 30.385475000000003], [59.977536000000015, 30.392909000000003], [59.977424000000006, 30.393868], [59.977364999999985, 30.393854000000005], [59.977424000000006, 30.393868], [59.97662900000002, 30.400649], [59.976471, 30.401968], [59.976419999999976, 30.402379], [59.976285000000004, 30.40357], [59.976234000000005, 30.403555000000004], [59.976285000000004, 30.40357], [59.97584799999999, 30.407353000000004], [59.97571700000002, 30.408493999999994], [59.975232, 30.412742], [59.975094000000006, 30.413945], [59.97491599999997, 30.415448], [59.974884999999986, 30.415706999999998], [59.97482000000001, 30.416241999999997], [59.97475600000001, 30.416218000000004], [59.97482000000001, 30.416241999999997], [59.97449300000002, 30.419116999999996], [59.97447299999999, 30.419321000000004], [59.97447, 30.419836000000007], [59.97445199999998, 30.42670100000001], [59.974354, 30.4267], [59.97445199999998, 30.42670100000001], [59.97445300000001, 30.429942000000004], [59.974450999999995, 30.433145000000003], [59.974457, 30.434492], [59.97443499999998, 30.435079], [59.974384000000015, 30.435499000000007], [59.974311, 30.435739], [59.974109, 30.436194], [59.973915999999996, 30.436443], [59.973672, 30.436573000000003], [59.97320199999999, 30.436687], [59.972800000000014, 30.436738], [59.972798000000004, 30.436647999999998], [59.972802000000016, 30.436828999999992], [59.972412000000006, 30.436867999999997], [59.971733, 30.436931999999995], [59.97163700000001, 30.43694], [59.968455999999996, 30.437275000000003], [59.96833599999999, 30.437286999999998], [59.968173000000014, 30.437302999999996], [59.967842, 30.437332999999995], [59.967837, 30.437133000000003], [59.967842, 30.437332999999995], [59.96634399999998, 30.437472], [59.964507999999995, 30.437644], [59.963696, 30.437745], [59.96357900000002, 30.437756], [59.963560000000015, 30.437758], [59.963555, 30.437556000000004], [59.963497, 30.437776000000003], [59.960906, 30.437971999999995], [59.960588, 30.437855], [59.96041899999998, 30.437368000000003], [59.96018899999998, 30.437262999999998], [59.960024000000004, 30.437447], [59.95990200000001, 30.437737], [59.959736000000014, 30.43799], [59.95949499999998, 30.43798500000001], [59.95945400000001, 30.43776], [59.95944399999996, 30.438014], [59.95904200000002, 30.437952000000003], [59.957482000000006, 30.437676999999994], [59.95483299999999, 30.437209000000006], [59.95473599999997, 30.437192999999997], [59.954731999999986, 30.437192], [59.954737000000016, 30.437086], [59.954731999999986, 30.437192], [59.95390499999996, 30.43705], [59.953350999999984, 30.436949], [59.953124000000024, 30.436908000000003], [59.95287799999999, 30.436869], [59.952653999999995, 30.436835999999996], [59.95245799999998, 30.436803999999995], [59.952388, 30.436786000000005], [59.95220199999999, 30.436751], [59.952173, 30.436745000000002], [59.952179, 30.436630999999995], [59.952173, 30.436745000000002], [59.951433, 30.436605], [59.95074799999999, 30.436486], [59.94860599999999, 30.436112000000005], [59.94861199999999, 30.435986999999997], [59.94860599999999, 30.436112000000005], [59.948487000000014, 30.436091000000005], [59.94805299999998, 30.436025000000004], [59.947873, 30.436032], [59.94751700000001, 30.436054], [59.94736100000001, 30.436048999999997], [59.946985000000005, 30.436036000000005], [59.946089000000015, 30.435914000000004], [59.94593700000001, 30.435886000000004], [59.945806999999995, 30.435847], [59.94543199999999, 30.435691], [59.94534399999999, 30.435665000000007], [59.945276999999976, 30.435643], [59.94503199999999, 30.435595999999997], [59.943529, 30.435338000000005], [59.94330600000001, 30.435305999999997], [59.94324500000002, 30.435290999999996], [59.94315300000001, 30.435265999999995], [59.943070999999996, 30.435248], [59.942940000000014, 30.435205999999997], [59.942869, 30.435183000000002], [59.942872, 30.435150000000007], [59.942869, 30.435183000000002], [59.94241999999998, 30.435039], [59.942343000000015, 30.435083], [59.94200900000001, 30.434993999999996], [59.94175999999999, 30.434950999999998], [59.94152899999999, 30.434937], [59.94129799999999, 30.434955], [59.941252999999996, 30.434963000000003], [59.940564, 30.434953999999998], [59.94030399999999, 30.434959999999997], [59.94026999999999, 30.434956999999997], [59.93996100000001, 30.434981000000004], [59.939750999999994, 30.435001], [59.93964600000001, 30.435019000000004], [59.93912700000002, 30.435085], [59.93903099999999, 30.435093999999996], [59.93902899999999, 30.434991], [59.93903099999999, 30.435093999999996], [59.93819900000002, 30.435172000000005], [59.936776000000016, 30.43513], [59.936390999999986, 30.435128999999996], [59.93618699999998, 30.435138], [59.93611800000001, 30.435141], [59.936037999999996, 30.435143999999998], [59.93603599999999, 30.435017000000002], [59.93332800000002, 30.435283000000002], [59.93369399999999, 30.436831999999995], [59.93352200000002, 30.436878999999994], [59.933676999999996, 30.437044], [59.934442, 30.44043], [59.933583000000006, 30.440760999999995], [59.933143, 30.44113], [59.93277799999998, 30.440556], [59.92938800000001, 30.436858000000004], [59.929461000000025, 30.436468999999995], [59.930125999999994, 30.436679999999996]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_b07f8ac743b610bc184d3953993b3599);
        
    
            var marker_43c96544b579f5a687c56b721d6261b4 = L.marker(
                [59.961261999999984, 30.292685999999996],
                {}
            ).addTo(map_b07f8ac743b610bc184d3953993b3599);

            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_b07f8ac743b610bc184d3953993b3599.getCenter().lat,
                lng: map_b07f8ac743b610bc184d3953993b3599.getCenter().lng,
                zoom: map_b07f8ac743b610bc184d3953993b3599.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_b07f8ac743b610bc184d3953993b3599.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_b07f8ac743b610bc184d3953993b3599.setView(marker_43c96544b579f5a687c56b721d6261b4.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_b07f8ac743b610bc184d3953993b3599.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_b07f8ac743b610bc184d3953993b3599.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_b07f8ac743b610bc184d3953993b3599.removeLayer(marker_43c96544b579f5a687c56b721d6261b4);
                }
                marker_43c96544b579f5a687c56b721d6261b4.setLatLng([lat, lon]);
                map_b07f8ac743b610bc184d3953993b3599.setView([lat, lon], size_zoom);
            }

            map_b07f8ac743b610bc184d3953993b3599.setView(marker_43c96544b579f5a687c56b721d6261b4.getLatLng(), size_zoom);
        
    
        var popup_04247b59f395e7a4086eb9c721d93cab = L.popup({"maxWidth": "100%"});

        
            
                var html_3386c1158aed020bb2584820fa7edc9b = $(`<div id="html_3386c1158aed020bb2584820fa7edc9b" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_04247b59f395e7a4086eb9c721d93cab.setContent(html_3386c1158aed020bb2584820fa7edc9b);
            
        

        marker_43c96544b579f5a687c56b721d6261b4.bindPopup(popup_04247b59f395e7a4086eb9c721d93cab)
        ;

        
    
</script>
</html>