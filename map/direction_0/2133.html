<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_dba27139cbb1276b1560d27a2e6cfa38 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_dba27139cbb1276b1560d27a2e6cfa38" ></div>
        
</body>
<script>
    
    
            var map_dba27139cbb1276b1560d27a2e6cfa38 = L.map(
                "map_dba27139cbb1276b1560d27a2e6cfa38",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_c7e7aa12cc4c7ed1dfe840a3a6ba4975 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_c7e7aa12cc4c7ed1dfe840a3a6ba4975.addTo(map_dba27139cbb1276b1560d27a2e6cfa38);
        
    
            var poly_line_7635c5e4212ea421ceecd5bca60abd49 = L.polyline(
                [[59.930125999999994, 30.436679999999996], [59.93012, 30.436093], [59.93105299999999, 30.436056], [59.93176, 30.436032999999995], [59.931234, 30.437732], [59.93104, 30.438365], [59.930986, 30.438562], [59.93094600000001, 30.438905999999996], [59.93097099999997, 30.439073999999998], [59.931066, 30.439253], [59.93151099999997, 30.439821], [59.93150500000001, 30.439839999999997], [59.93151099999997, 30.439821], [59.93186, 30.440252], [59.93205700000001, 30.440492999999996], [59.932219, 30.440693], [59.932525, 30.441067000000007], [59.93291600000001, 30.441539], [59.93313599999998, 30.441819], [59.933214, 30.441861999999997], [59.933286, 30.441841], [59.933525999999986, 30.441610999999998], [59.93388799999998, 30.441166999999997], [59.934100000000015, 30.440781], [59.934284000000005, 30.440638000000003], [59.93443999999999, 30.440506], [59.93451600000001, 30.440265000000004], [59.93443599999999, 30.439895], [59.93437099999999, 30.4396], [59.933943, 30.437627999999997], [59.93384399999999, 30.437177999999992], [59.93372799999998, 30.436647], [59.93363899999999, 30.436242], [59.933482999999974, 30.435534000000004], [59.93371400000002, 30.435521], [59.93445599999999, 30.435478000000003], [59.935670000000016, 30.435409], [59.93567099999999, 30.435513000000004], [59.935670000000016, 30.435409], [59.935687999999985, 30.435408000000002], [59.93618999999999, 30.435412000000003], [59.937049999999985, 30.435379], [59.937307, 30.43526], [59.938196999999995, 30.435203999999995], [59.93912700000002, 30.435085], [59.939308, 30.435062000000002], [59.93931299999998, 30.435229], [59.939308, 30.435059000000003], [59.94003599999998, 30.434948], [59.940355, 30.434947000000005], [59.94041699999998, 30.435004999999997], [59.941205999999994, 30.434992000000005], [59.941510999999984, 30.434977999999997], [59.94174300000001, 30.434996000000005], [59.942193, 30.435119999999998], [59.942643000000004, 30.435275999999998], [59.943089999999984, 30.435419999999997], [59.94332699999999, 30.435460000000003], [59.943544999999986, 30.435490999999995], [59.94350500000001, 30.435543], [59.943544, 30.435499000000007], [59.94508399999999, 30.435757], [59.94584899999999, 30.436062000000003], [59.94671099999998, 30.436187999999998], [59.947153, 30.436256], [59.947572999999984, 30.436260000000004], [59.948305000000005, 30.436314], [59.94829499999999, 30.436528000000003], [59.94830399999999, 30.436314999999997], [59.94840399999999, 30.436331999999993], [59.94940099999998, 30.436499], [59.950762, 30.436757000000004], [59.952869999999976, 30.437140000000003], [59.953120000000006, 30.437186], [59.95333999999999, 30.437218], [59.95370199999998, 30.437272000000004], [59.953790000000005, 30.437285], [59.954825, 30.437446], [59.954988, 30.437474], [59.955122, 30.437496999999993], [59.955119, 30.437585], [59.955122, 30.437496999999993], [59.957472, 30.437903], [59.957624999999986, 30.437930000000005], [59.957622, 30.438008999999997], [59.957624999999986, 30.437930000000005], [59.957661, 30.437936], [59.95896499999998, 30.438161], [59.959078000000005, 30.438180999999997], [59.95961599999997, 30.438270000000003], [59.959696999999984, 30.438291], [59.959769000000016, 30.438341], [59.959829, 30.438420000000004], [59.959868, 30.438493999999995], [59.95992900000001, 30.43862], [59.959964, 30.438738], [59.96003700000001, 30.438894], [59.960098000000016, 30.438972999999997], [59.960164, 30.439022000000005], [59.96023399999999, 30.43904], [59.960294, 30.439028], [59.960303999999994, 30.439026], [59.96037099999999, 30.43898], [59.96043100000001, 30.438905999999996], [59.96047199999998, 30.438816000000003], [59.960506999999964, 30.438725999999996], [59.960531999999986, 30.438637999999997], [59.96055199999999, 30.438520000000004], [59.960615, 30.438342999999993], [59.960674000000004, 30.438253], [59.960738, 30.438225000000003], [59.960877, 30.438204999999996], [59.96107399999999, 30.438185], [59.96122200000001, 30.43817], [59.96122399999999, 30.438250000000004], [59.96122200000001, 30.43817], [59.961742999999984, 30.438117], [59.96262500000001, 30.438077999999997], [59.96273699999998, 30.438068], [59.96296799999998, 30.438041], [59.963584, 30.437965], [59.96370000000001, 30.437955999999996], [59.963832, 30.437941999999996], [59.96384299999999, 30.437941], [59.963844000000016, 30.437962], [59.96384299999999, 30.437941], [59.967052, 30.437614], [59.96833599999999, 30.437514], [59.968457000000015, 30.437496], [59.968592000000015, 30.437480999999995], [59.968743, 30.437464], [59.968748, 30.437638], [59.968743, 30.437444], [59.97285999999999, 30.436999], [59.97286199999999, 30.437081999999997], [59.97286299999998, 30.436999], [59.973215999999965, 30.436972], [59.973714, 30.436947], [59.973942, 30.436783999999996], [59.974123999999996, 30.436609000000004], [59.97433099999996, 30.436221], [59.974572999999985, 30.435485999999994], [59.974572999999985, 30.435315000000003], [59.974574000000004, 30.433157000000005], [59.97458, 30.431027], [59.97457600000001, 30.426759999999998], [59.974751, 30.426764000000002], [59.97457600000001, 30.426759999999998], [59.974587, 30.423107], [59.97459899999999, 30.419582000000002], [59.974621999999975, 30.419169], [59.975024999999995, 30.415835], [59.975054, 30.415558000000004], [59.97510999999999, 30.415063999999997], [59.97525000000001, 30.415124], [59.97510999999999, 30.415063999999997], [59.97582899999999, 30.408733], [59.97619199999999, 30.405573], [59.97655, 30.402460999999995], [59.97659299999998, 30.402106999999994], [59.976664, 30.401508], [59.97678500000002, 30.401561999999995], [59.976664, 30.401508], [59.977150000000016, 30.397367999999997], [59.97766699999998, 30.393021999999995], [59.97774700000001, 30.392346], [59.97784300000001, 30.392389], [59.97774700000001, 30.392346], [59.978258999999994, 30.38821], [59.978581, 30.385513], [59.978767, 30.384455000000003], [59.97890399999999, 30.383872000000007], [59.979375000000005, 30.382469], [59.97959300000001, 30.381792], [59.97960399999998, 30.381830000000004], [59.97962099999998, 30.381702], [59.98027899999999, 30.379763], [59.980293999999994, 30.379719000000005], [59.98080799999998, 30.378222], [59.98131099999998, 30.376801000000004], [59.981356000000005, 30.376669000000003], [59.981569999999984, 30.376355000000004], [59.981356000000005, 30.376669000000003], [59.981687999999984, 30.375683], [59.98339499999999, 30.370842999999997], [59.98386099999998, 30.369463], [59.98460799999999, 30.367251000000003], [59.984669, 30.367072999999998], [59.984851000000006, 30.366550000000007], [59.98492799999998, 30.366548], [59.98495099999999, 30.36626], [59.98530900000001, 30.365227000000004], [59.98549700000002, 30.364708], [59.985552999999975, 30.364541], [59.985779999999984, 30.363792999999998], [59.985997000000005, 30.362968], [59.986063000000016, 30.362673999999995], [59.98611500000002, 30.362441999999998], [59.98624300000001, 30.361803], [59.986406000000024, 30.360887], [59.98647699999999, 30.360439], [59.98651999999998, 30.360141], [59.98654100000002, 30.359998000000004], [59.986627000000006, 30.359377000000002], [59.98667900000001, 30.358536], [59.986684, 30.358272], [59.98666999999999, 30.357826], [59.98662900000001, 30.357395000000007], [59.986568999999996, 30.356769], [59.98652400000001, 30.356311], [59.986497, 30.356030000000004], [59.98657399999998, 30.356304999999995], [59.98648399999999, 30.356027000000005], [59.98640099999999, 30.355045], [59.986307, 30.354074000000004], [59.986118000000005, 30.352025], [59.98583100000001, 30.349066000000004], [59.985748, 30.348220000000005], [59.98549000000001, 30.345616999999997], [59.98546300000001, 30.345342999999996], [59.985497999999986, 30.34501], [59.98546300000001, 30.345342], [59.985154999999985, 30.342188999999998], [59.985037000000005, 30.34098], [59.98506299999998, 30.340977999999996], [59.98503800000001, 30.340979], [59.984851000000006, 30.339049999999997], [59.984664, 30.337165], [59.984675, 30.336886], [59.984664, 30.337167000000004], [59.984503000000004, 30.335503999999997], [59.984469, 30.335265], [59.984411, 30.335028000000005], [59.984342000000005, 30.334781], [59.984251, 30.334509999999998], [59.98413899999999, 30.334174], [59.98400399999999, 30.333817], [59.98393399999998, 30.333638000000008], [59.983857, 30.333449], [59.983827999999995, 30.333387], [59.983351000000006, 30.332310000000003], [59.983179000000014, 30.331922], [59.98331499999998, 30.331682], [59.983179000000014, 30.331922], [59.982819999999975, 30.331111], [59.982289, 30.329913], [59.981626, 30.328415000000003], [59.98142499999998, 30.327961000000002], [59.981474, 30.327873999999998], [59.98142499999998, 30.327961000000002], [59.98094199999998, 30.326869999999996], [59.98067499999998, 30.326246], [59.979698000000006, 30.324039999999997], [59.979534, 30.323706], [59.97945299999998, 30.32354], [59.97850299999998, 30.321673000000004], [59.97755599999999, 30.319855000000004], [59.977514, 30.319781], [59.977411, 30.319595], [59.97727899999999, 30.319369000000005], [59.97713399999998, 30.319118000000003], [59.976974999999996, 30.318868000000002], [59.976806, 30.318633], [59.97660099999999, 30.318386], [59.97643500000001, 30.318199999999997], [59.97628199999999, 30.318039], [59.976211999999975, 30.317974000000003], [59.976175999999995, 30.317939], [59.976054000000005, 30.317829], [59.97589599999999, 30.317714000000002], [59.97586100000001, 30.317688], [59.975725999999995, 30.317587], [59.97491599999997, 30.316986999999997], [59.97468599999998, 30.316826], [59.974737, 30.316532000000002], [59.97468599999998, 30.316826], [59.97467100000001, 30.316816000000003], [59.97244, 30.315261], [59.97118000000002, 30.314382999999996], [59.971149999999994, 30.314366], [59.970989, 30.314254999999996], [59.97092199999999, 30.314229], [59.97083500000001, 30.314194000000004], [59.970752000000005, 30.31417], [59.97076699999997, 30.313962000000004], [59.970752000000005, 30.31417], [59.970607, 30.314127], [59.97036699999999, 30.314055999999997], [59.970223000000004, 30.314025000000004], [59.970127999999974, 30.314000000000004], [59.97004600000001, 30.313985999999996], [59.969946, 30.313974000000005], [59.969881, 30.313977000000005], [59.969766, 30.313981000000002], [59.96928199999999, 30.314045], [59.969061999999994, 30.314061], [59.96896499999997, 30.314068], [59.96850799999999, 30.314100999999997], [59.968280999999976, 30.314111], [59.968254, 30.314109], [59.96816600000001, 30.314101999999995], [59.96805999999997, 30.314084], [59.967853999999996, 30.313999000000003], [59.967783, 30.313969], [59.96773199999998, 30.313948000000003], [59.967252, 30.313722999999996], [59.966932000000014, 30.313574000000003], [59.96672800000002, 30.313461], [59.966639999999984, 30.313397000000002], [59.96667599999998, 30.313199999999995], [59.966639999999984, 30.313397000000002], [59.96661999999999, 30.313382000000008], [59.966555, 30.313314], [59.966463999999995, 30.313201000000003], [59.966383999999984, 30.313089999999995], [59.966215000000005, 30.312828999999997], [59.966174999999986, 30.312766], [59.966136, 30.312707999999997], [59.965997999999985, 30.312477], [59.96597599999999, 30.312436000000005], [59.965926999999986, 30.31234], [59.96578299999999, 30.312081999999997], [59.965635, 30.311840999999998], [59.965609, 30.311797], [59.96558000000001, 30.311751], [59.965517, 30.31165], [59.965258999999996, 30.311236], [59.96499399999998, 30.310801], [59.964546999999996, 30.310066000000003], [59.964377999999996, 30.309788], [59.964425000000006, 30.309673999999998], [59.964377999999996, 30.309788], [59.96418, 30.309459999999998], [59.964041999999964, 30.309233], [59.963720999999985, 30.308710999999995], [59.96335200000001, 30.308124000000003], [59.96294599999998, 30.30745], [59.962591, 30.306871999999995], [59.962386, 30.306535999999994], [59.96221800000001, 30.306252], [59.96177700000001, 30.305523999999995], [59.961651000000025, 30.305319], [59.96161099999999, 30.305117000000003], [59.961651000000025, 30.305319], [59.961602999999975, 30.305241], [59.961533999999986, 30.305129999999995], [59.96133999999999, 30.304815000000005], [59.961071, 30.304378999999997], [59.96088799999997, 30.304078], [59.96045499999999, 30.303369], [59.959845999999985, 30.302371999999995], [59.95976100000001, 30.302228], [59.95962000000001, 30.301931], [59.959748000000005, 30.302215000000004], [59.959564999999984, 30.301923999999996], [59.959489, 30.301802], [59.95931299999998, 30.301522], [59.95920899999999, 30.301357], [59.95903599999999, 30.301080999999996], [59.958981, 30.300993000000002], [59.95871099999999, 30.300562], [59.95859099999999, 30.300373000000004], [59.95829600000002, 30.299902999999993], [59.95821699999998, 30.299778000000003], [59.958161999999994, 30.299689], [59.95784600000002, 30.299186], [59.957735000000014, 30.299006999999996], [59.95776600000001, 30.298931000000003], [59.957924, 30.298549000000005], [59.95804500000001, 30.298748000000003], [59.957924, 30.298549000000005], [59.95800500000001, 30.298353], [59.95831900000001, 30.297593999999993], [59.95882299999998, 30.296377000000007], [59.95890200000002, 30.296183999999997], [59.95935899999999, 30.295944], [59.959410999999996, 30.295843000000005], [59.959523000000004, 30.295626000000002], [59.95959499999997, 30.295486999999998], [59.96015599999999, 30.294398], [59.96060599999999, 30.293524], [59.96066, 30.293419000000004], [59.960866, 30.293028999999997], [59.961147999999994, 30.292491], [59.961159000000016, 30.29247], [59.961261999999984, 30.292685999999996]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_dba27139cbb1276b1560d27a2e6cfa38);
        
    
            var marker_580bf99a7c4d45e3814458f9bad175c1 = L.marker(
                [59.930125999999994, 30.436679999999996],
                {}
            ).addTo(map_dba27139cbb1276b1560d27a2e6cfa38);

            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_dba27139cbb1276b1560d27a2e6cfa38.getCenter().lat,
                lng: map_dba27139cbb1276b1560d27a2e6cfa38.getCenter().lng,
                zoom: map_dba27139cbb1276b1560d27a2e6cfa38.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_dba27139cbb1276b1560d27a2e6cfa38.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_dba27139cbb1276b1560d27a2e6cfa38.setView(marker_580bf99a7c4d45e3814458f9bad175c1.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_dba27139cbb1276b1560d27a2e6cfa38.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_dba27139cbb1276b1560d27a2e6cfa38.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_dba27139cbb1276b1560d27a2e6cfa38.removeLayer(marker_580bf99a7c4d45e3814458f9bad175c1);
                }
                marker_580bf99a7c4d45e3814458f9bad175c1.setLatLng([lat, lon]);
                map_dba27139cbb1276b1560d27a2e6cfa38.setView([lat, lon], size_zoom);
            }

            map_dba27139cbb1276b1560d27a2e6cfa38.setView(marker_580bf99a7c4d45e3814458f9bad175c1.getLatLng(), size_zoom);
        
    
        var popup_276d0a36fae811a1dae3d40a10f3f609 = L.popup({"maxWidth": "100%"});

        
            
                var html_ae46d3d4732d1813e15bf7649c1964e7 = $(`<div id="html_ae46d3d4732d1813e15bf7649c1964e7" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_276d0a36fae811a1dae3d40a10f3f609.setContent(html_ae46d3d4732d1813e15bf7649c1964e7);
            
        

        marker_580bf99a7c4d45e3814458f9bad175c1.bindPopup(popup_276d0a36fae811a1dae3d40a10f3f609)
        ;

        
    
</script>
</html>