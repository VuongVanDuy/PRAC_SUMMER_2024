<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_a32a9b14654fd07aaa54a892f2d98be0 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_a32a9b14654fd07aaa54a892f2d98be0" ></div>
        
</body>
<script>
    
    
            var map_a32a9b14654fd07aaa54a892f2d98be0 = L.map(
                "map_a32a9b14654fd07aaa54a892f2d98be0",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_2f04820a1803f22fb2526d97c65d0aa9 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_2f04820a1803f22fb2526d97c65d0aa9.addTo(map_a32a9b14654fd07aaa54a892f2d98be0);
        
    
            var poly_line_7444514003a58133a2ca772b8db5ffd9 = L.polyline(
                [[60.02789600000001, 30.210162], [60.027894999999994, 30.210162999999998], [60.027907000000006, 30.210181], [60.028087, 30.210502000000005], [60.02817199999998, 30.210713], [60.02824600000002, 30.210911999999997], [60.028310999999995, 30.211170000000003], [60.02837, 30.211568000000003], [60.028391000000006, 30.211815], [60.02839699999997, 30.212064000000005], [60.028402, 30.212188], [60.02842600000002, 30.212792999999998], [60.02843199999998, 30.212978], [60.02843899999999, 30.213204], [60.028444999999984, 30.213341], [60.02838799999999, 30.213352], [60.028444999999984, 30.213341], [60.02848800000001, 30.214235], [60.028504, 30.214694], [60.02851999999998, 30.214932], [60.02855499999998, 30.215149000000004], [60.02859099999998, 30.215311], [60.02866100000001, 30.215544999999995], [60.028770999999985, 30.215858], [60.02886200000001, 30.216062], [60.02893, 30.216183000000004], [60.029049000000015, 30.216374], [60.02933199999999, 30.216807], [60.02940600000002, 30.216917999999996], [60.02953499999998, 30.217141000000005], [60.029439, 30.217410000000005], [60.029340999999995, 30.217663999999996], [60.02929900000001, 30.21777], [60.02922200000001, 30.21765], [60.02929900000001, 30.21777], [60.02828799999998, 30.220379], [60.02787900000002, 30.221389], [60.02767899999997, 30.221901000000003], [60.027599, 30.222106999999998], [60.026475999999995, 30.224965999999995], [60.026383, 30.224831999999996], [60.02648099999999, 30.224954], [60.025321000000005, 30.227856], [60.02515499999998, 30.228178], [60.02497999999998, 30.228517], [60.025138, 30.228906000000002], [60.025242, 30.229164], [60.02534399999999, 30.229419], [60.025466999999985, 30.229719], [60.02540899999998, 30.229814999999995], [60.025466999999985, 30.229719], [60.026257000000015, 30.231646000000005], [60.02661099999999, 30.232574], [60.02751700000001, 30.235603], [60.02763899999998, 30.236016], [60.02758399999998, 30.236082], [60.027507, 30.236176000000004], [60.02737099999998, 30.236340000000002], [60.02721900000001, 30.23654399999999], [60.027152000000015, 30.236281999999996], [60.02721699999999, 30.236537], [60.026835, 30.236993999999996], [60.02667199999999, 30.237189999999995], [60.026051, 30.237901000000004], [60.025843, 30.238152999999997], [60.02531799999999, 30.238795], [60.025213, 30.23892], [60.025267, 30.239110000000004], [60.025338, 30.239369], [60.02539099999999, 30.239554000000002], [60.025305000000024, 30.239654], [60.02539099999999, 30.239554000000002], [60.025393000000015, 30.239557999999995], [60.02560600000001, 30.240257999999997], [60.026205999999995, 30.242304], [60.026329, 30.242765], [60.02638599999999, 30.243032], [60.026421000000006, 30.243267], [60.02643599999998, 30.243541], [60.02644599999999, 30.243748999999998], [60.02643500000001, 30.243971], [60.02640999999997, 30.244252999999997], [60.026338, 30.244836000000003], [60.02623699999999, 30.245657000000005], [60.026157000000005, 30.245608], [60.026241, 30.245650000000005], [60.02619399999998, 30.246032999999997], [60.02596499999998, 30.247853], [60.025930999999986, 30.248311], [60.025519, 30.248827000000002], [60.02515899999998, 30.249229], [60.02482099999998, 30.249622999999996], [60.024722, 30.249741000000004], [60.02461999999996, 30.249859000000004], [60.02456900000001, 30.249917], [60.02445, 30.250056], [60.024444, 30.250037000000003], [60.02445, 30.250056], [60.02395899999999, 30.250628999999996], [60.022423, 30.252419999999997], [60.02231200000001, 30.252549], [60.022277, 30.25259], [60.02227400000002, 30.252580000000002], [60.022277, 30.25259], [60.019963999999995, 30.255286000000005], [60.019667, 30.255633000000003], [60.01960599999999, 30.255703999999998], [60.019129, 30.256261999999996], [60.018989000000005, 30.256423000000005], [60.018768999999985, 30.256675], [60.01861699999996, 30.256851], [60.01857300000002, 30.256902], [60.01840799999999, 30.257095000000003], [60.018382999999986, 30.257011], [60.01840799999999, 30.257095000000003], [60.017880999999996, 30.257709], [60.01765700000001, 30.257969], [60.016059, 30.259829], [60.01577300000001, 30.260179000000004], [60.015760999999976, 30.260140999999997], [60.01577300000001, 30.260179000000004], [60.015220000000014, 30.260854000000002], [60.01515599999998, 30.260935999999997], [60.01509600000001, 30.261013999999996], [60.014765999999995, 30.261393], [60.014249999999976, 30.261985], [60.013827, 30.262470000000004], [60.013754999999996, 30.262553], [60.01363199999998, 30.262713], [60.013551, 30.262880000000003], [60.01350199999998, 30.263060000000003], [60.01347599999998, 30.263240000000003], [60.01339199999999, 30.263881000000005], [60.01334299999999, 30.264248999999996], [60.01330200000001, 30.264546999999997], [60.013262000000005, 30.264859000000005], [60.013169, 30.264810999999998], [60.013262000000005, 30.264859000000005], [60.01325899999999, 30.264887000000005], [60.012843000000004, 30.268037], [60.01279300000001, 30.268444999999996], [60.012663, 30.269483000000005], [60.01264699999999, 30.269604], [60.012586, 30.270064000000005], [60.012551000000016, 30.270046000000004], [60.012586, 30.270064000000005], [60.012579, 30.270112], [60.01235000000002, 30.271843999999998], [60.01211199999998, 30.273699], [60.011993000000004, 30.274563], [60.011981000000006, 30.274644], [60.011966, 30.274635], [60.011981000000006, 30.274644], [60.011902, 30.275218], [60.01186399999998, 30.275676], [60.011826000000006, 30.276152], [60.01179899999998, 30.276399], [60.011715999999986, 30.277149000000005], [60.011618999999996, 30.278033999999998], [60.011618999999996, 30.278295], [60.01159200000002, 30.278507999999995], [60.01153499999998, 30.278949999999995], [60.011479, 30.278921], [60.01153499999998, 30.278949999999995], [60.01151599999998, 30.279094999999998], [60.011372000000016, 30.280209], [60.011168999999995, 30.281776], [60.01106, 30.282617], [60.01104599999999, 30.282723000000004], [60.010901, 30.283846], [60.01086599999998, 30.284119000000004], [60.010837999999985, 30.284336], [60.010801999999984, 30.284610000000004], [60.01076100000002, 30.284927000000003], [60.01073599999999, 30.285124], [60.010622, 30.285065000000003], [60.01073599999999, 30.285124], [60.010602, 30.286154000000003], [60.01056700000001, 30.286430999999993], [60.01052999999999, 30.286711999999998], [60.01048599999999, 30.287055000000002], [60.01034900000001, 30.288113], [60.010293, 30.288547000000005], [60.010285999999994, 30.288596999999996], [60.010189, 30.289347999999997], [60.01007099999998, 30.290258], [60.010055, 30.290381], [60.01004199999999, 30.290486000000005], [60.010018999999986, 30.290662000000005], [60.010001, 30.2908], [60.009966, 30.290781999999997], [60.010001, 30.2908], [60.00993700000001, 30.291294999999998], [60.00973499999999, 30.292854999999996], [60.00961300000001, 30.293802999999997], [60.00950199999998, 30.294660999999998], [60.00944599999996, 30.295089], [60.00938699999996, 30.295547], [60.009162, 30.295625], [60.009070999999985, 30.295656999999995], [60.008959999999995, 30.295695], [60.008951999999994, 30.295604000000004], [60.008959999999995, 30.295695], [60.00853399999998, 30.295842], [60.006884, 30.296412000000004], [60.006551999999985, 30.296526000000004], [60.00621000000001, 30.296644000000004], [60.00577900000001, 30.296793], [60.00452699999998, 30.297225000000008], [60.003386999999975, 30.297608999999998], [60.003141000000014, 30.297692], [60.00291699999999, 30.297766999999997], [60.00262200000002, 30.297861], [60.00247399999998, 30.297909], [60.00245700000001, 30.297697], [60.00247399999998, 30.297909], [60.00241299999998, 30.297928999999996], [60.001619999999974, 30.298193999999995], [60.000945, 30.298419], [60.000738000000005, 30.298487], [60.00054399999999, 30.298559999999995], [60.000323000000016, 30.298641999999997], [60.00015000000002, 30.298707], [60.000021999999994, 30.298755], [60.00001299999999, 30.298661999999997], [60.000021999999994, 30.298755], [59.99916199999998, 30.299079000000003], [59.998194, 30.299409999999998], [59.99740199999999, 30.299683999999996], [59.99705900000001, 30.299809], [59.99698999999999, 30.299833999999997], [59.99696899999998, 30.299601], [59.996986, 30.299824], [59.99670000000001, 30.299939], [59.996494, 30.300013999999997], [59.996207999999996, 30.3001], [59.996073, 30.300125000000005], [59.995937, 30.300127000000003], [59.99579899999998, 30.30011], [59.995658000000006, 30.300068], [59.995407999999976, 30.299983000000005], [59.99120200000001, 30.298390999999995], [59.991014, 30.298197], [59.99092499999999, 30.298081], [59.99087500000001, 30.297989], [59.99084599999999, 30.297907], [59.99082399999999, 30.297821], [59.990807999999994, 30.297727], [59.990801999999995, 30.297618000000003], [59.990809, 30.29751], [59.990828, 30.297405000000005], [59.990854000000006, 30.297309000000002], [59.99089100000002, 30.297222999999995], [59.990923, 30.297171999999996], [59.99096599999996, 30.297129], [59.99100599999999, 30.297108], [59.991050000000016, 30.297098], [59.99110099999998, 30.297104], [59.99115199999999, 30.297127], [59.99120200000001, 30.297167999999996], [59.99126100000001, 30.297257], [59.991301, 30.297345999999997], [59.991436, 30.297828], [59.99158699999997, 30.298357], [59.99165099999999, 30.298593], [59.991761000000004, 30.298884], [59.99194, 30.299243], [59.99200999999997, 30.299366], [59.99230199999999, 30.299783999999995], [59.99239599999998, 30.299918999999996], [59.99273299999999, 30.30043], [59.992940000000004, 30.300747], [59.99287799999998, 30.30091], [59.992940000000004, 30.300747], [59.993155000000016, 30.301074999999997], [59.99365299999999, 30.301938000000003], [59.993749, 30.302113999999996], [59.99366900000002, 30.302293], [59.99363100000001, 30.302373999999997], [59.99363400000001, 30.30238], [59.99363100000001, 30.302373999999997], [59.99360399999997, 30.302433], [59.993463999999996, 30.302733000000003], [59.99338099999999, 30.302884000000002], [59.99334600000001, 30.302943], [59.99262199999999, 30.303848], [59.992501000000004, 30.304003999999996], [59.99239899999996, 30.304126000000004], [59.992346999999995, 30.304230999999998], [59.99229699999998, 30.304366], [59.99222, 30.30469], [59.99219099999998, 30.304815000000005], [59.99216899999998, 30.304863999999995], [59.99137200000002, 30.305893999999995], [59.991192999999996, 30.306125999999995], [59.991140999999985, 30.306191999999996], [59.990948, 30.306440999999996], [59.990861999999986, 30.306551], [59.990776, 30.306661000000002], [59.99074799999999, 30.306575], [59.990776, 30.306661000000002], [59.99037500000001, 30.307176000000002], [59.989669, 30.308092000000002], [59.989151, 30.308758999999995], [59.98877799999999, 30.309228999999995], [59.988671, 30.309364000000002], [59.98857999999999, 30.309071000000003], [59.988109999999985, 30.307574], [59.987849, 30.306745], [59.987784, 30.306540999999996], [59.987747000000006, 30.306421999999998], [59.987413000000004, 30.305344000000005], [59.98724500000001, 30.304801999999995], [59.987209000000014, 30.304685], [59.98704800000002, 30.304186], [59.98698099999998, 30.303996999999992], [59.98691099999999, 30.303811000000007], [59.98691800000001, 30.3038]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_a32a9b14654fd07aaa54a892f2d98be0);
        
    
            var marker_2f7e97f007dfcdb13003fa9c4485c286 = L.marker(
                [60.02789600000001, 30.210162],
                {}
            ).addTo(map_a32a9b14654fd07aaa54a892f2d98be0);

            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_a32a9b14654fd07aaa54a892f2d98be0.getCenter().lat,
                lng: map_a32a9b14654fd07aaa54a892f2d98be0.getCenter().lng,
                zoom: map_a32a9b14654fd07aaa54a892f2d98be0.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_a32a9b14654fd07aaa54a892f2d98be0.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_a32a9b14654fd07aaa54a892f2d98be0.setView(marker_2f7e97f007dfcdb13003fa9c4485c286.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_a32a9b14654fd07aaa54a892f2d98be0.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_a32a9b14654fd07aaa54a892f2d98be0.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_a32a9b14654fd07aaa54a892f2d98be0.removeLayer(marker_2f7e97f007dfcdb13003fa9c4485c286);
                }
                marker_2f7e97f007dfcdb13003fa9c4485c286.setLatLng([lat, lon]);
                map_a32a9b14654fd07aaa54a892f2d98be0.setView([lat, lon], size_zoom);
            }

            map_a32a9b14654fd07aaa54a892f2d98be0.setView(marker_2f7e97f007dfcdb13003fa9c4485c286.getLatLng(), size_zoom);
        
    
        var popup_ad25364cf78bb00b4b2d4c88b575ef90 = L.popup({"maxWidth": "100%"});

        
            
                var html_4e4a8a632b817b90a0fb4d9592cb9444 = $(`<div id="html_4e4a8a632b817b90a0fb4d9592cb9444" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_ad25364cf78bb00b4b2d4c88b575ef90.setContent(html_4e4a8a632b817b90a0fb4d9592cb9444);
            
        

        marker_2f7e97f007dfcdb13003fa9c4485c286.bindPopup(popup_ad25364cf78bb00b4b2d4c88b575ef90)
        ;

        
    
</script>
</html>