<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_7b2e6c7481a55488810705657c426430 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
</head>
<body>
    
    
            <div class="folium-map" id="map_7b2e6c7481a55488810705657c426430" ></div>
        
</body>
<script>
    
    
            var map_7b2e6c7481a55488810705657c426430 = L.map(
                "map_7b2e6c7481a55488810705657c426430",
                {
                    center: [59.9343, 30.3351],
                    crs: L.CRS.EPSG3857,
                    zoom: 12,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_5804d6c8f5995d5cb609e1268456353a = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {"attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors", "detectRetina": false, "maxNativeZoom": 19, "maxZoom": 19, "minZoom": 0, "noWrap": false, "opacity": 1, "subdomains": "abc", "tms": false}
            );
        
    
            tile_layer_5804d6c8f5995d5cb609e1268456353a.addTo(map_7b2e6c7481a55488810705657c426430);
        
    
            var poly_line_3cf21dccc45dc45ad568f20ec791662b = L.polyline(
                [[59.967560000000006, 30.306637999999996], [59.967460000000024, 30.306712000000005], [59.96745700000001, 30.306694], [59.967240999999994, 30.305519000000004], [59.967209999999994, 30.305329], [59.96717400000001, 30.305119000000005], [59.96690499999998, 30.303556], [59.96679, 30.302889999999998], [59.966622, 30.301767], [59.966484, 30.300765], [59.966444, 30.300453000000005], [59.96639799999999, 30.300146], [59.966310999999976, 30.299505999999997], [59.96624399999999, 30.299407999999996], [59.966021000000005, 30.299082000000002], [59.96579399999999, 30.298748000000003], [59.96535500000001, 30.298075], [59.965044000000006, 30.297604000000003], [59.96491200000002, 30.297403000000003], [59.964808999999995, 30.297243999999996], [59.964366999999996, 30.296555], [59.96424000000001, 30.296348999999996], [59.964174, 30.296240000000004], [59.96371900000001, 30.29549], [59.963653, 30.295383000000005], [59.96357200000001, 30.295250000000003], [59.96344400000002, 30.295041], [59.96321699999998, 30.294669], [59.963070000000016, 30.294428000000003], [59.962901, 30.29415], [59.96261199999997, 30.293676999999995], [59.962435, 30.293387000000003], [59.962400999999986, 30.293329999999997], [59.962028999999994, 30.292719999999996], [59.96171800000001, 30.292209], [59.96161099999999, 30.292035], [59.96148899999998, 30.291839], [59.961325999999985, 30.291577000000004], [59.961066, 30.291176], [59.96099899999999, 30.291072], [59.960841, 30.290837], [59.96062200000001, 30.290521], [59.960217, 30.289936999999995], [59.96017, 30.289868], [59.960023, 30.289654], [59.95992900000001, 30.289516999999996], [59.959864, 30.289412999999996], [59.95937999999999, 30.288649999999997], [59.958627, 30.287765000000004], [59.958533999999986, 30.287654], [59.958502, 30.287615000000002], [59.95845199999999, 30.287848000000004], [59.958355999999995, 30.288292], [59.95823700000002, 30.288842999999996], [59.95779199999999, 30.290020000000002], [59.95769299999998, 30.290279], [59.95762100000002, 30.290457999999994], [59.956953999999996, 30.292093], [59.95640400000001, 30.293449], [59.956382, 30.293520999999995], [59.956328, 30.293699], [59.956274, 30.293831], [59.95624500000002, 30.293903], [59.95613200000001, 30.294178], [59.95593699999999, 30.294655000000002], [59.95581600000001, 30.294949000000003], [59.955674, 30.295296], [59.95564499999998, 30.295366], [59.955587000000016, 30.295508000000005], [59.95519400000001, 30.29487], [59.95465999999999, 30.294001999999995], [59.95457899999999, 30.293869999999995], [59.954517999999986, 30.293772], [59.95419000000001, 30.293239000000003], [59.954162000000004, 30.293194000000003], [59.954231, 30.293023999999996], [59.95414399999998, 30.293164999999995], [59.954074999999996, 30.293052], [59.95383799999998, 30.292666999999994], [59.953652, 30.292365], [59.95351099999999, 30.292144000000004], [59.95327699999999, 30.291755999999996], [59.952952, 30.291228000000004], [59.95280699999999, 30.290993], [59.95265500000001, 30.290747], [59.95239900000001, 30.290316999999998], [59.95036800000001, 30.287208999999997], [59.94771400000001, 30.283650000000005], [59.947371, 30.283742999999994], [59.946319, 30.285038], [59.94568, 30.285764999999994], [59.94550999999999, 30.285951], [59.94529600000001, 30.285965999999995], [59.94509599999998, 30.285277], [59.94498199999999, 30.284886999999994], [59.94466899999999, 30.283843], [59.94464099999999, 30.283739999999998], [59.94462100000001, 30.283671000000002], [59.944592, 30.283572000000003], [59.944559999999996, 30.283457999999996], [59.944330000000015, 30.28267], [59.94387999999999, 30.281126], [59.94383199999999, 30.280962000000002], [59.943721, 30.280582], [59.943491, 30.279797999999996], [59.943465000000025, 30.279708000000003], [59.94344, 30.279621999999996], [59.943132000000006, 30.278577000000002], [59.94285599999998, 30.277617], [59.942795, 30.277410000000003], [59.94254399999999, 30.276569], [59.942467999999984, 30.276321], [59.94241999999998, 30.276156000000004], [59.94238899999998, 30.27605], [59.94238399999998, 30.276055], [59.94238899999998, 30.27605], [59.94238100000002, 30.276025], [59.942333, 30.275857], [59.942161000000006, 30.275264999999997], [59.94204500000001, 30.274879], [59.94191499999999, 30.274444000000003], [59.941704999999985, 30.273722], [59.941657, 30.273574], [59.94159799999999, 30.273373], [59.94114899999998, 30.271836], [59.940981999999984, 30.271264], [59.94092099999998, 30.271056], [59.94086800000001, 30.270870999999996], [59.94069000000002, 30.270252999999993], [59.94068100000001, 30.270222], [59.940549999999995, 30.269763999999995], [59.940526000000006, 30.269682000000003], [59.94042699999999, 30.269341999999998], [59.940253, 30.268734000000002], [59.940184, 30.268497], [59.940132, 30.268313999999997], [59.940001999999986, 30.267859], [59.93992500000001, 30.267595000000004], [59.93983, 30.267264000000004], [59.939686000000016, 30.266768000000003], [59.93961300000001, 30.266501999999996], [59.93952399999999, 30.266200999999995], [59.93946899999998, 30.266017], [59.93941499999998, 30.265822999999994], [59.93938499999999, 30.265716], [59.938863999999995, 30.263904], [59.938791000000016, 30.263652], [59.938723, 30.2634], [59.93867199999998, 30.263232000000002], [59.938632999999996, 30.263099999999998], [59.93852499999998, 30.262703000000002], [59.93798899999999, 30.260857000000005], [59.937365, 30.258695999999997], [59.937352000000004, 30.25865], [59.93724399999998, 30.258274000000004], [59.93713199999999, 30.257892], [59.93704499999998, 30.257598], [59.936925, 30.25719], [59.936755999999974, 30.256614000000003], [59.936613, 30.256128000000004], [59.936535, 30.255861000000003], [59.93648799999999, 30.255702000000003], [59.93500500000001, 30.250727], [59.93494700000001, 30.250542000000003], [59.934912999999995, 30.250433], [59.93480299999998, 30.25008], [59.93467299999998, 30.249676000000008], [59.93460999999998, 30.249469], [59.93457899999999, 30.249374999999997], [59.93452099999999, 30.249216999999998], [59.93421099999998, 30.248338999999998], [59.934034000000004, 30.247837000000008], [59.93397000000001, 30.247667], [59.933921, 30.247525], [59.93344400000001, 30.246209000000004], [59.932978000000006, 30.244907999999995], [59.932928999999994, 30.244781], [59.93288300000002, 30.244655999999996], [59.932468, 30.243465999999998], [59.93241700000001, 30.243305], [59.932370999999996, 30.243149999999996], [59.93208, 30.24205], [59.93205, 30.241901999999996], [59.93202600000001, 30.241785999999998], [59.931993000000006, 30.241620000000005], [59.931914, 30.241223999999995], [59.931855, 30.240928], [59.93176100000001, 30.240434], [59.931730999999985, 30.240275000000004], [59.931799, 30.240244999999998], [59.931903000000005, 30.240188], [59.931997000000024, 30.240137], [59.93215600000001, 30.240051999999995], [59.932286999999995, 30.239984], [59.93232, 30.239965], [59.93254999999999, 30.239845], [59.93268499999999, 30.239777], [59.93314100000001, 30.239528999999994], [59.93344, 30.239373000000004], [59.93347399999998, 30.239355999999997], [59.933876, 30.239129999999996], [59.933910000000004, 30.239109000000003], [59.93421800000003, 30.238942], [59.93445599999999, 30.238807999999995], [59.93457800000002, 30.238744000000008], [59.93472199999998, 30.238665000000005], [59.934813999999996, 30.238616999999998], [59.934853999999994, 30.238598], [59.935119, 30.238474], [59.93557799999999, 30.238313000000005], [59.93630099999999, 30.238138000000003], [59.93644100000001, 30.238102999999995], [59.937183999999995, 30.237921], [59.93725999999998, 30.237902000000002], [59.93782500000001, 30.237766999999998], [59.937802, 30.237484000000002], [59.937747999999985, 30.236899999999995], [59.937718999999994, 30.23661], [59.93766900000001, 30.236068000000003], [59.937659999999994, 30.235975000000003], [59.93764300000001, 30.235794], [59.93758600000001, 30.235170999999998], [59.937503999999976, 30.234264], [59.93752099999998, 30.23418], [59.937543999999995, 30.234105], [59.93772700000001, 30.233583], [59.93818099999999, 30.233358999999997], [59.938356000000006, 30.23328], [59.938490000000016, 30.233221000000004], [59.93853599999999, 30.2332], [59.942159000000004, 30.231562], [59.942312999999984, 30.231493000000004], [59.94250499999998, 30.231403999999998], [59.942755999999996, 30.231284999999996], [59.94295999999999, 30.231191], [59.94317900000001, 30.231086999999995], [59.943371000000006, 30.230996000000005], [59.94479299999997, 30.230391999999995], [59.945113, 30.230310000000003], [59.94545599999997, 30.230303000000003], [59.94581199999999, 30.23037], [59.946089000000015, 30.230472999999996], [59.946295, 30.230585999999995], [59.94655199999999, 30.230884999999997], [59.94715099999999, 30.231272], [59.947299999999984, 30.231364000000003], [59.94755799999999, 30.231526000000002], [59.947716000000014, 30.231652000000004], [59.94776800000002, 30.231425999999995], [59.94770599999999, 30.23164], [59.94790399999998, 30.231727000000003], [59.948156, 30.231879], [59.94826700000001, 30.231945000000003], [59.948384000000004, 30.232018], [59.948555, 30.232109], [59.94878999999998, 30.232242], [59.94902999999999, 30.232376], [59.94933999999999, 30.232365999999992], [59.950051999999985, 30.232777999999996], [59.950757, 30.233187000000004], [59.95086499999999, 30.233248], [59.95096599999997, 30.233307999999997], [59.95111900000001, 30.233395999999995], [59.95128799999999, 30.233494000000004], [59.95189199999999, 30.233843], [59.954451, 30.23532], [59.954675, 30.235452999999996], [59.95471199999999, 30.235202]],
                {"bubblingMouseEvents": true, "color": "blue", "dashArray": null, "dashOffset": null, "fill": false, "fillColor": "blue", "fillOpacity": 0.2, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "noClip": false, "opacity": 1.0, "smoothFactor": 1.0, "stroke": true, "weight": 3}
            ).addTo(map_7b2e6c7481a55488810705657c426430);
        
    
            var marker_06e005806d87258ca9ee7cdadd4a90da = L.marker(
                [59.967560000000006, 30.306637999999996],
                {}
            ).addTo(map_7b2e6c7481a55488810705657c426430);

            var customControl = L.Control.extend({
                options: {
                    position: 'topright' // Vị trí của control trên bản đồ
                },
        
                onAdd: function (map) {
                    var container = L.DomUtil.create('button', 'custom-zoom-btn');
                    container.innerText = 'Zoom to current location'; // Text hiển thị trên nút bấm
                    container.style.backgroundColor = 'white';
                    container.style.padding = '5px';
                    
                    return container;
                }
            });

            var size_zoom;

            var initialViewState = {
                lat: map_7b2e6c7481a55488810705657c426430.getCenter().lat,
                lng: map_7b2e6c7481a55488810705657c426430.getCenter().lng,
                zoom: map_7b2e6c7481a55488810705657c426430.getZoom()
            };

            var clickCount = 0;

            // Thêm sự kiện click vào map
            map_7b2e6c7481a55488810705657c426430.on('click', function() {
                clickCount++;

                if (clickCount === 1) {
                    size_zoom = 16;
                    map_7b2e6c7481a55488810705657c426430.setView(marker_06e005806d87258ca9ee7cdadd4a90da.getLatLng(), size_zoom);
                    // Hành động khi click lần đầu (ví dụ: không làm gì hoặc phóng to)
                } else if (clickCount === 2) {
                    size_zoom = 12;
                    // Trả lại trạng thái ban đầu của map khi click lần thứ hai
                    map_7b2e6c7481a55488810705657c426430.setView([initialViewState.lat, initialViewState.lng], initialViewState.zoom);
                    clickCount = 0; // Reset số lần click
                }
            });
        
            // Thêm control vào bản đồ
            map_7b2e6c7481a55488810705657c426430.addControl(new customControl());

            function updateMarker(lat, lon) {
                if (typeof marker !== 'undefined') {
                    map_7b2e6c7481a55488810705657c426430.removeLayer(marker_06e005806d87258ca9ee7cdadd4a90da);
                }
                marker_06e005806d87258ca9ee7cdadd4a90da.setLatLng([lat, lon]);
                map_7b2e6c7481a55488810705657c426430.setView([lat, lon], size_zoom);
            }

            map_7b2e6c7481a55488810705657c426430.setView(marker_06e005806d87258ca9ee7cdadd4a90da.getLatLng(), size_zoom);
        
    
        var popup_68f94f7a46b22c510f885261c54d7afc = L.popup({"maxWidth": "100%"});

        
            
                var html_302f26f13bf2987c8b38ef18ce34c884 = $(`<div id="html_302f26f13bf2987c8b38ef18ce34c884" style="width: 100.0%; height: 100.0%;">Bus</div>`)[0];
                popup_68f94f7a46b22c510f885261c54d7afc.setContent(html_302f26f13bf2987c8b38ef18ce34c884);
            
        

        marker_06e005806d87258ca9ee7cdadd4a90da.bindPopup(popup_68f94f7a46b22c510f885261c54d7afc)
        ;

        
    
</script>
</html>